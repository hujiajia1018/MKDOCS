{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u94b1\u53f0\u652f\u4ed8\u5bf9\u63a5\u6587\u68633.3.1 \u53d8\u66f4\u8bb0\u5f55 \u7248\u672c\u53f7 \u72b6\u6001 \u4fee\u6539\u70b9\u8bf4\u660e \u53d8\u66f4\u786e\u8ba4 \u65e5\u671f QT1.1 \u8bd5\u7528 \u521d\u7248\u8bd5\u7528\u7248 2018/01/16 QT1.2 \u65b0\u589e\u5c0f\u7a0b\u5e8f 2018/02/07 QT1.3 \u53d8\u66f4\u516c\u4f17\u53f7\u83b7\u53d6oauth_code\uff0c\u589e\u52a0\u573a\u666f\u8bf4\u660e 2018/03/14 QT2.0 \u589e\u52a0\u6d77\u5916\u652f\u4ed8\u7c7b\u578b\u652f\u6301/\u65f6\u533a\u793a\u4f8b 2018/09/13 QT3.0 \u589e\u52a0pay_tag\u53c2\u6570 2018/09/21 QT3.1 \u65b0\u589e\u6dfb\u52a0\u8ba2\u5355\u5907\u6ce8\u63a5\u53e3 2018/10/11 QT3.2 \u82f1\u6587\u7248\u677f\u5f0f\u66f4\u65b0 2018/10/24 QT3.3 \u65b0\u589eAPP\u652f\u4ed8\u4e0eNETSPAY\u626b\u7801\u652f\u4ed8 2018/11/08 QT3.3.1 \u5b8c\u5584APP\u652f\u4ed8\u6d41\u7a0b 2018/11/13 \u5728\u8fdb\u884c\u94b1\u53f0\u63a5\u53e3\u5bf9\u63a5\u524d\uff0c\u8bf7\u4ed4\u7ec6\u53c2\u9605\u6b64\u6587\u6863\u4e2d\u201c \u5f00\u53d1\u6307\u5357 \u201d\u90e8\u5206\u5185\u5bb9\uff0c\u5305\u542b\u73af\u5883\u8bf4\u660e\u3001\u8bf7\u6c42\u7b7e\u540d\u65b9\u5f0f\u3001\u8bf7\u6c42\u8bf4\u660e\u3001\u8fd4\u56de\u9a8c\u7b7e\u3001\u5f02\u6b65\u901a\u77e5\u7b49\u5185\u5bb9\uff0c\u7136\u540e\u53ef\u6839\u636e\u5b9e\u9645\u63a5\u5165\u652f\u4ed8\u9700\u6c42\uff0c\u53c2\u9605\u5bf9\u5e94\u7684\u652f\u4ed8\u90e8\u5206\u5185\u5bb9\uff0c\u6db5\u76d6\u516c\u4f17\u53f7\u3001\u670d\u52a1\u7a97\u3001\u5fae\u4fe1\u652f\u4ed8\u5b9d\u7684\u88ab\u626b\u3001\u4e3b\u626b\u7b49\u652f\u4ed8\u65b9\u5f0f\u7684\u8c03\u7528\u3002\u9000\u6b3e\u53d1\u8d77\u3001\u67e5\u8be2\u7b49\u63a5\u53e3\u652f\u6301\uff0c\u53ef\u89c1\u672c\u6587\u6863\u4e2d\u201c API\u8bf4\u660e \u201d\u3002","title":"\u53d8\u66f4\u8bb0\u5f55"},{"location":"API-Instructions/","text":"API\u8bf4\u660e # \u8ba2\u5355\u652f\u4ed8 # \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7:800207\uff1b out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u8ba2\u5355\u53f7\u3002\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 openid \u5426 \u652f\u4ed8\u5b9d\u7684openid\uff0c\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u9700\u8981\u4f20\u8be5\u53c2\u6570 sub_openid \u5426 \u5fae\u4fe1\u7684openid\uff0c\u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8\u9700\u8981\u4f20\u8be5\u53c2\u6570 auth_code \u5426 \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u5237\u5361\uff08\u88ab\u626b\uff09\u9700\u8981\u4f20\u9012\u8be5\u53c2\u6570 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u5fae\u4fe1\u626b\u7801\u6216\u516c\u4f17\u53f7\u652f\u4ed8\u65f6\uff0c\u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc740\u5b57\u7b26 \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u8ba2\u5355\u53f7\uff1b out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff1b txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b pay_type \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sysdtm \u7cfb\u7edf\u65f6\u95f4 qrcode \u626b\u7801\u65f6\u8fd4\u56de\uff0c\u4e8c\u7ef4\u7801url\uff1b pay_params \u5524\u8d77\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u652f\u4ed8\u7684\u53c2\u6570\uff0c800207\u5fae\u4fe1\u516c\u4f17\u53f7\u3001800107\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u8fd4\u56de \u8ba2\u5355\u67e5\u8be2 # \u8bf4\u660e\uff1a \u53d1\u8d77\u4ea4\u6613\u540e\uff0c\u9700\u8981\u8c03\u7528\u67e5\u8be2\u63a5\u53e3\uff0c\u83b7\u53d6\u8ba2\u5355\u7684\u72b6\u6001\uff0c\u76f4\u5230\u94b1\u65b9\u8fd4\u56de\u5177\u4f53\u7684\u72b6\u6001\u4fe1\u606f\u4e3a\u6b62\uff0c\u6839\u636e\u8ba2\u5355\u7684\u72b6\u6001\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\u3002 \u9ed8\u8ba4\u4e0d\u652f\u6301\u9694\u6708\u8ba2\u5355\u67e5\u8be2\uff0c\u82e5\u67e5\u8be2\u9694\u6708\u8ba2\u5355\uff0c\u9700\u4f20\u5165start_time\u3001end_time\uff08\u65f6\u95f4\u533a\u95f4\u5305\u542bsysdtm\u65f6\u95f4\uff0c\u4e14\u533a\u95f4\u4e0d\u80fd\u8de8\u6708\uff09\u53c2\u6570\uff0c\u5efa\u8bae\u4ee5syssn\u4e3a\u6761\u4ef6\u8fdb\u884c\u67e5\u8be2\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u6216\u8005Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/query \u63cf\u8ff0\u4fe1\u606f \u67e5\u8be2\u4ea4\u6613\u4fe1\u606f\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d\uff1b syssn \u5426 \u94b1\u65b9\u8ba2\u5355\u53f7\u67e5\u8be2\uff0c\u591a\u4e2a\u4ee5\u82f1\u6587\u9017\u53f7\u533a\u5206\u5f00\uff1b out_trade_no \u5426 \u5916\u90e8\u8ba2\u5355\u53f7\u67e5\u8be2\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff1b pay_type \u5426 \u6309\u652f\u4ed8\u7c7b\u578b\u67e5\u8be2\uff0c\u591a\u4e2a\u4ee5\u82f1\u6587\u9017\u53f7\u533a\u5206\u5f00 \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b respcd \u5426 \u4ea4\u6613\u8fd4\u56de\u7801\uff0c\u9ed8\u8ba4\u8fd4\u56de\u6240\u6709\u8fd4\u56de\u7801\u72b6\u6001\u7684\u8ba2\u5355 start_time \u5426 \u5f00\u59cb\u65f6\u95f4\uff0c\u9ed8\u8ba4\u672c\u6708\u5f00\u59cb \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS end_time \u5426 \u7ed3\u675f\u65f6\u95f4\uff0c\u9ed8\u8ba4\u672c\u6708\u7ed3\u675f \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 page \u5426 \u9875\u6570\uff0c\u9ed8\u8ba41 page_size \u5426 \u6bcf\u9875\u663e\u793a\u6570\u91cf\uff0c\u9ed8\u8ba4\u663e\u793a10\u7b14\u8ba2\u5355 \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e page \u9875\u6570 resperr \u4e0b\u5355\u7ed3\u679c\u63cf\u8ff0 page_size \u6bcf\u9875\u663e\u793a\u6570\u91cf respcd \u4e0b\u5355\u8bf7\u6c42\u7ed3\u679c\u8fd4\u56de\u7801 0000\u8868\u793a\u4e0b\u5355\u6210\u529f data \u4ea4\u6613\u6570\u636e\uff0c\u4e3alist\uff0c\u5176\u4e2d\u5b57\u6bb5\u63cf\u8ff0\u5982\u4e0b data\u5b57\u6bb5\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u8ba2\u5355\u53f7 out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 pay_type \u652f\u4ed8\u7c7b\u578b\uff0c\u591a\u4e2a\u4ee5\u82f1\u6587\u9017\u53f7\u533a\u5206\u5f00 \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b order_type \u8ba2\u5355\u7c7b\u578b \u652f\u4ed8\u7684\u8ba2\u5355\uff1apayment\uff1b\u9000\u6b3e\u7684\u8ba2\u5355\uff1arefund\uff1b\u5173\u95ed\u7684\u8ba2\u5355\uff1aclose\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 sysdtm \u7cfb\u7edf\u4ea4\u6613\u65f6\u95f4 cancel \u64a4\u9500/\u9000\u6b3e\u6807\u8bb0 \u6b63\u5e38\u4ea4\u6613\uff1a0\uff1b\u5df2\u64a4\u9500\uff1a2\uff1b\u5df2\u9000\u8d27\uff1a3 respcd \u652f\u4ed8\u7ed3\u679c\u8fd4\u56de\u7801 0000\u8868\u793a\u4ea4\u6613\u652f\u4ed8\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25 errmsg \u652f\u4ed8\u7ed3\u679c\u63cf\u8ff0 data\u5185\u7684respcd\u53c2\u6570\u8fd4\u56de\u78010000\u8868\u793a\u652f\u4ed8\u4ea4\u6613\u6210\u529f\uff0cdata\u5916\u7684respcd\u53c2\u6570\u8fd4\u56de\u78010000\u8868\u793a\u8bf7\u6c42\u4e0b\u5355\u6210\u529f\u3002 \u5e94\u7b54\u793a\u4f8b\uff1a { respmsg : , resperr : \\u8bf7\\u6c42\\u6210\\u529f , respcd : 0000 , data : [ { pay_type : 800208 , sysdtm : 2018-01-12 17:10:26 , order_type : payment , txcurrcd : CNY , txdtm : 2018-01-12 17:10:32 , txamt : 1 , out_trade_no : 1301459478787530052 , syssn : 20180112000100020001659358 , cancel : 0 , respcd : 0000 , errmsg : \\u4ea4\\u6613\\u6210\\u529f } ], page : 1, page_size : 10 } \u8ba2\u5355\u9000\u6b3e # \u9000\u6b3e\u8bf4\u660e\uff1a\u9000\u6b3e\u7684\u53d1\u8d77\u662f\u4e00\u7b14\u9000\u6b3e\u8ba2\u5355\uff0c\u53d1\u8d77\u9000\u6b3e\u5546\u6237\u5f53\u65e5\u4ea4\u6613\u4f59\u989d\u9700\u5927\u4e8e\u9000\u6b3e\u8ba2\u5355\u91d1\u989d\uff0c\u5efa\u8bae\u53d1\u8d77\u9000\u6b3e\u5bf9\u5e94\u539f\u8ba2\u5355\u7684syssn\u8ba2\u5355\u53f7\u65f6\u95f4\u4e0e\u672c\u6b21\u53d1\u8d77\u9000\u6b3e\u7684\u65f6\u95f4\u95f4\u9694\u4e0d\u8d85\u8fc730\u5929\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/refund \u63cf\u8ff0\u4fe1\u606f \u7528\u4e8e\u5bf9\u5df2\u652f\u4ed8\u8ba2\u5355\u8fdb\u884c\u9000\u6b3e\u64cd\u4f5c \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e syssn \u662f \u94b1\u65b9\u8ba2\u5355\u53f7\uff0c\u9000\u6b3e\u5bf9\u5e94\u7684\u539f\u8ba2\u5355syssn out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\u4e0e\u9000\u6b3e\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4e5f\u4e0d\u80fd\u4e0e\u652f\u4ed8\u65f6\u7684\u5916\u90e8\u8ba2\u5355\u53f7\u76f8\u540c\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26\u3002 txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u9000\u6b3e\u4ea4\u6613\u552f\u4e00\u6d41\u6c34\u53f7 orig_syssn \u539f\u8ba2\u4ea4\u6613\u6d41\u6c34\u53f7 txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u8bf7\u6c42\u65b9\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-mm-dd HH:MM:DD sysdtm \u7cfb\u7edf\u65f6\u95f4 \u5e94\u7b54\u793a\u4f8b\uff1a { orig_syssn : 20180112000100020001659358 , sysdtm : 2018-01-12 19:03:23 , cardcd : , txdtm : 2018-01-12 19:03:29 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 13014597435743348787530052 , syssn : 20180112000100020001661542 , respcd : 0000 } \u8ba2\u5355\u5173\u95ed # \u2460 \u4ec0\u4e48\u72b6\u6001\u7684\u8ba2\u5355\u53ef\u4ee5\u5173\u95ed\uff1f \u626b\u7801\u652f\u4ed8\u4e0e\u516c\u4f17\u53f7\u652f\u4ed8\uff0c\u82e5\u8ba2\u5355\u652f\u4ed8\u672a\u6210\u529f\uff0c\u53ef\u5173\u95ed\uff1b \u82e5\u8ba2\u5355\u5df2\u652f\u4ed8\u6210\u529f\uff0c\u539f\u5219\u4e0a\u4e0d\u5efa\u8bae\u8c03\u7528\u5173\u95ed\u8ba2\u5355\u63a5\u53e3\uff0c\u56e0\u94f6\u884c\u5bf9\u4e8e\u8be5\u8ba2\u5355\u652f\u6301\u6807\u51c6\u4e0d\u4e00\u81f4\uff0c\u5f88\u53ef\u80fd\u5bfc\u81f4\u5173\u95ed\u5931\u8d25\u3002 \u5237\u5361\u652f\u4ed8\uff0c\u8ba2\u5355\u652f\u4ed8\u672a\u6210\u529f\uff0c\u90fd\u53ef\u4ee5\u5173\u95ed\u8ba2\u5355\uff1b\u82e5\u652f\u4ed8\u6210\u529f\u7684\u540c\u65f6\uff0c\u8c03\u7528\u5173\u95ed\u8ba2\u5355\u63a5\u53e3\uff0c\u5b9e\u9645\u662f\u5fae\u4fe1\u7684\u64a4\u9500API\uff0c\u6b64\u8ba2\u5355\u652f\u4ed8\u7684\u6b3e\u9879\u5c31\u4f1a\u539f\u8def\u8fd4\u56de\u3002 \u2461\u5173\u95ed\u8ba2\u5355\u5e94\u7528\u573a\u666f \u5173\u95ed\u8ba2\u5355\u53ea\u662f\u9002\u7528\u4e8e\u5f53\u65f6\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u907f\u514d\u91cd\u590d\u652f\u4ed8\u3002 \u4e3a\u4e86\u907f\u514d\u9020\u6210\u5404\u79cd\u672a\u77e5\u95ee\u9898\uff0c\u8bf7\u4e0d\u8981\u628a\u5173\u95ed\u8ba2\u5355\u63a5\u53e3\u5f53\u505a\u9000\u6b3e\u63a5\u53e3\u4f7f\u7528\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/close \u63cf\u8ff0\u4fe1\u606f \u5173\u95ed\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d\u3002 txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS syssn \u5426 \u94b1\u65b9\u8ba2\u5355\u53f7 \u5176\u4e2d\u53c2\u6570syssn\u4e0eout_trade_no\u81f3\u5c11\u4f20\u9012\u4e00\u4e2a out_trade_no \u5426 \u5916\u90e8\u8ba2\u5355\u53f7\uff0c \u5176\u4e2d\u53c2\u6570syssn\u4e0eout_trade_no\u81f3\u5c11\u4f20\u9012\u4e00\u4e2a txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u5173\u95ed\u4ea4\u6613\u751f\u6210\u7684\u552f\u4e00\u8ba2\u5355\u53f7 orig_syssn \u539f\u4ea4\u6613\u94b1\u65b9\u8ba2\u5355\u53f7\uff0c\u5bf9\u5e94\u88ab\u5173\u95ed\u539f\u8ba2\u5355syssn txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-mm-dd HH:MM:DD sysdtm \u7cfb\u7edf\u4ea4\u6613\u65f6\u95f4 \u5e94\u7b54\u793a\u4f8b\uff1a { orig_syssn : 20180112000100020001659801 , sysdtm : 2018-01-12 19:07:02 , cardcd : , txdtm : 2018-01-12 19:07:09 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , syssn : 20180112000100020001661611 , respcd : 0000 } \u6ce8\uff1a\u5173\u95ed\u8ba2\u5355\u975e\u901a\u7528\u652f\u6301\uff0c\u53ef\u80fd\u51fa\u73b0\u4e0d\u652f\u6301\u5173\u95ed\u8ba2\u5355\u7684\u60c5\u51b5\uff0c\u82e5\u5173\u95ed\u8ba2\u5355\u5e94\u7b54\u8fd4\u56de\u7801\u4e3a\u201c1297\u201d\u6216\u8fd4\u56de\u5185\u5bb9\u65e0syssn\u5b57\u6bb5\uff08\u6ce8\uff1a\u4e0d\u662forig_syssn\uff09\uff0c\u8bf4\u660e\u8be5\u4ea4\u6613\u4e0d\u652f\u6301\u5173\u95ed\u8ba2\u5355\uff0c\u5982\u679c\u7528\u6237\u5df2\u6210\u529f\u652f\u4ed8\uff0c\u53ef\u8c03\u7528[\u9000\u6b3e\u63a5\u53e3](#\u8ba2\u5355\u9000\u6b3e)\u8fdb\u884c\u9000\u6b3e\u3002 \u8ba2\u5355\u5907\u6ce8 # \u8bf4\u660e \uff1a\u7ed9\u8ba2\u5355\u6dfb\u52a0\u4ea4\u6613\u5907\u6ce8\uff1b\u6ce8\u610f\uff1a\u4e0d\u652f\u6301\u6e20\u9053\u6a21\u5f0f\u7684\u5546\u6237\u6dfb\u52a0\u5907\u6ce8 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f \uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/add_note \u63cf\u8ff0\u4fe1\u606f \u4e3a\u8ba2\u5355\u6dfb\u52a0\u5907\u6ce8 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e code \u662f \u94b1\u65b9\u63d0\u4f9b\u7684\u5546\u6237code syssn \u662f \u4ea4\u6613\u6210\u529f\u540e\u94b1\u65b9\u8fd4\u56de\u7684\u8ba2\u5355\u53f7 note \u662f \u9700\u8981\u6dfb\u52a0\u7684\u5907\u6ce8\u4fe1\u606f\uff0c\u4e0d\u8d85\u8fc7200\u4e2a\u5b57\u7b26 \u8fd4\u56de\u53c2\u6570\u793a\u4f8b\uff1a { resperr : , respcd : 0000 , respmsg : , data :{}} \u4e0b\u8f7d\u5bf9\u8d26\u5355 # \u8bf4\u660e\uff1a \u6e20\u9053\u9694\u65e5\u4e0b\u8f7d\u6e05\u7b97\u5bf9\u8d26\u5355\uff0c\u4ee5\u81ea\u7136\u65e5\u4e3a\u5355\u4f4d\uff0c\u5305\u542b\u6bcf\u5bb6\u5546\u6237\u7684\u8d26\u5355\u4fe1\u606f\u3002 \u53ea\u80fd\u5728\u6b63\u5f0f\u73af\u5883\u4e0a\u8bf7\u6c42\u624d\u53ef\u4ee5\uff0c\u8fd4\u56de\u5185\u5bb9\u6587\u4ef6\u4e3azip\u683c\u5f0f\u538b\u7f29\u5305\u6587\u4ef6\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /download/v1/trade_bill \u63cf\u8ff0\u4fe1\u606f \u901a\u8fc7\u63a5\u53e3\u83b7\u53d6\u5bf9\u8d26\u5355\u6587\u4ef6\uff0c\u4fdd\u5b58\u4e3azip\u6587\u4ef6 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e trade_date \u662f \u83b7\u53d6\u5bf9\u8d26\u5355\u7684\u5177\u4f53\u65e5\u671f \u59822017-10-17","title":"API\u8bf4\u660e"},{"location":"API-Instructions/#api","text":"","title":"API\u8bf4\u660e"},{"location":"API-Instructions/#_1","text":"\u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7:800207\uff1b out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u8ba2\u5355\u53f7\u3002\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 openid \u5426 \u652f\u4ed8\u5b9d\u7684openid\uff0c\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u9700\u8981\u4f20\u8be5\u53c2\u6570 sub_openid \u5426 \u5fae\u4fe1\u7684openid\uff0c\u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8\u9700\u8981\u4f20\u8be5\u53c2\u6570 auth_code \u5426 \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u5237\u5361\uff08\u88ab\u626b\uff09\u9700\u8981\u4f20\u9012\u8be5\u53c2\u6570 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u5fae\u4fe1\u626b\u7801\u6216\u516c\u4f17\u53f7\u652f\u4ed8\u65f6\uff0c\u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc740\u5b57\u7b26 \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u8ba2\u5355\u53f7\uff1b out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff1b txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b pay_type \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sysdtm \u7cfb\u7edf\u65f6\u95f4 qrcode \u626b\u7801\u65f6\u8fd4\u56de\uff0c\u4e8c\u7ef4\u7801url\uff1b pay_params \u5524\u8d77\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u652f\u4ed8\u7684\u53c2\u6570\uff0c800207\u5fae\u4fe1\u516c\u4f17\u53f7\u3001800107\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u8fd4\u56de","title":"\u8ba2\u5355\u652f\u4ed8"},{"location":"API-Instructions/#_2","text":"\u8bf4\u660e\uff1a \u53d1\u8d77\u4ea4\u6613\u540e\uff0c\u9700\u8981\u8c03\u7528\u67e5\u8be2\u63a5\u53e3\uff0c\u83b7\u53d6\u8ba2\u5355\u7684\u72b6\u6001\uff0c\u76f4\u5230\u94b1\u65b9\u8fd4\u56de\u5177\u4f53\u7684\u72b6\u6001\u4fe1\u606f\u4e3a\u6b62\uff0c\u6839\u636e\u8ba2\u5355\u7684\u72b6\u6001\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\u3002 \u9ed8\u8ba4\u4e0d\u652f\u6301\u9694\u6708\u8ba2\u5355\u67e5\u8be2\uff0c\u82e5\u67e5\u8be2\u9694\u6708\u8ba2\u5355\uff0c\u9700\u4f20\u5165start_time\u3001end_time\uff08\u65f6\u95f4\u533a\u95f4\u5305\u542bsysdtm\u65f6\u95f4\uff0c\u4e14\u533a\u95f4\u4e0d\u80fd\u8de8\u6708\uff09\u53c2\u6570\uff0c\u5efa\u8bae\u4ee5syssn\u4e3a\u6761\u4ef6\u8fdb\u884c\u67e5\u8be2\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u6216\u8005Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/query \u63cf\u8ff0\u4fe1\u606f \u67e5\u8be2\u4ea4\u6613\u4fe1\u606f\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d\uff1b syssn \u5426 \u94b1\u65b9\u8ba2\u5355\u53f7\u67e5\u8be2\uff0c\u591a\u4e2a\u4ee5\u82f1\u6587\u9017\u53f7\u533a\u5206\u5f00\uff1b out_trade_no \u5426 \u5916\u90e8\u8ba2\u5355\u53f7\u67e5\u8be2\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff1b pay_type \u5426 \u6309\u652f\u4ed8\u7c7b\u578b\u67e5\u8be2\uff0c\u591a\u4e2a\u4ee5\u82f1\u6587\u9017\u53f7\u533a\u5206\u5f00 \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b respcd \u5426 \u4ea4\u6613\u8fd4\u56de\u7801\uff0c\u9ed8\u8ba4\u8fd4\u56de\u6240\u6709\u8fd4\u56de\u7801\u72b6\u6001\u7684\u8ba2\u5355 start_time \u5426 \u5f00\u59cb\u65f6\u95f4\uff0c\u9ed8\u8ba4\u672c\u6708\u5f00\u59cb \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS end_time \u5426 \u7ed3\u675f\u65f6\u95f4\uff0c\u9ed8\u8ba4\u672c\u6708\u7ed3\u675f \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 page \u5426 \u9875\u6570\uff0c\u9ed8\u8ba41 page_size \u5426 \u6bcf\u9875\u663e\u793a\u6570\u91cf\uff0c\u9ed8\u8ba4\u663e\u793a10\u7b14\u8ba2\u5355 \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e page \u9875\u6570 resperr \u4e0b\u5355\u7ed3\u679c\u63cf\u8ff0 page_size \u6bcf\u9875\u663e\u793a\u6570\u91cf respcd \u4e0b\u5355\u8bf7\u6c42\u7ed3\u679c\u8fd4\u56de\u7801 0000\u8868\u793a\u4e0b\u5355\u6210\u529f data \u4ea4\u6613\u6570\u636e\uff0c\u4e3alist\uff0c\u5176\u4e2d\u5b57\u6bb5\u63cf\u8ff0\u5982\u4e0b data\u5b57\u6bb5\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u8ba2\u5355\u53f7 out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 pay_type \u652f\u4ed8\u7c7b\u578b\uff0c\u591a\u4e2a\u4ee5\u82f1\u6587\u9017\u53f7\u533a\u5206\u5f00 \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b order_type \u8ba2\u5355\u7c7b\u578b \u652f\u4ed8\u7684\u8ba2\u5355\uff1apayment\uff1b\u9000\u6b3e\u7684\u8ba2\u5355\uff1arefund\uff1b\u5173\u95ed\u7684\u8ba2\u5355\uff1aclose\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 sysdtm \u7cfb\u7edf\u4ea4\u6613\u65f6\u95f4 cancel \u64a4\u9500/\u9000\u6b3e\u6807\u8bb0 \u6b63\u5e38\u4ea4\u6613\uff1a0\uff1b\u5df2\u64a4\u9500\uff1a2\uff1b\u5df2\u9000\u8d27\uff1a3 respcd \u652f\u4ed8\u7ed3\u679c\u8fd4\u56de\u7801 0000\u8868\u793a\u4ea4\u6613\u652f\u4ed8\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25 errmsg \u652f\u4ed8\u7ed3\u679c\u63cf\u8ff0 data\u5185\u7684respcd\u53c2\u6570\u8fd4\u56de\u78010000\u8868\u793a\u652f\u4ed8\u4ea4\u6613\u6210\u529f\uff0cdata\u5916\u7684respcd\u53c2\u6570\u8fd4\u56de\u78010000\u8868\u793a\u8bf7\u6c42\u4e0b\u5355\u6210\u529f\u3002 \u5e94\u7b54\u793a\u4f8b\uff1a { respmsg : , resperr : \\u8bf7\\u6c42\\u6210\\u529f , respcd : 0000 , data : [ { pay_type : 800208 , sysdtm : 2018-01-12 17:10:26 , order_type : payment , txcurrcd : CNY , txdtm : 2018-01-12 17:10:32 , txamt : 1 , out_trade_no : 1301459478787530052 , syssn : 20180112000100020001659358 , cancel : 0 , respcd : 0000 , errmsg : \\u4ea4\\u6613\\u6210\\u529f } ], page : 1, page_size : 10 }","title":"\u8ba2\u5355\u67e5\u8be2"},{"location":"API-Instructions/#_3","text":"\u9000\u6b3e\u8bf4\u660e\uff1a\u9000\u6b3e\u7684\u53d1\u8d77\u662f\u4e00\u7b14\u9000\u6b3e\u8ba2\u5355\uff0c\u53d1\u8d77\u9000\u6b3e\u5546\u6237\u5f53\u65e5\u4ea4\u6613\u4f59\u989d\u9700\u5927\u4e8e\u9000\u6b3e\u8ba2\u5355\u91d1\u989d\uff0c\u5efa\u8bae\u53d1\u8d77\u9000\u6b3e\u5bf9\u5e94\u539f\u8ba2\u5355\u7684syssn\u8ba2\u5355\u53f7\u65f6\u95f4\u4e0e\u672c\u6b21\u53d1\u8d77\u9000\u6b3e\u7684\u65f6\u95f4\u95f4\u9694\u4e0d\u8d85\u8fc730\u5929\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/refund \u63cf\u8ff0\u4fe1\u606f \u7528\u4e8e\u5bf9\u5df2\u652f\u4ed8\u8ba2\u5355\u8fdb\u884c\u9000\u6b3e\u64cd\u4f5c \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e syssn \u662f \u94b1\u65b9\u8ba2\u5355\u53f7\uff0c\u9000\u6b3e\u5bf9\u5e94\u7684\u539f\u8ba2\u5355syssn out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\u4e0e\u9000\u6b3e\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4e5f\u4e0d\u80fd\u4e0e\u652f\u4ed8\u65f6\u7684\u5916\u90e8\u8ba2\u5355\u53f7\u76f8\u540c\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26\u3002 txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u9000\u6b3e\u4ea4\u6613\u552f\u4e00\u6d41\u6c34\u53f7 orig_syssn \u539f\u8ba2\u4ea4\u6613\u6d41\u6c34\u53f7 txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u8bf7\u6c42\u65b9\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-mm-dd HH:MM:DD sysdtm \u7cfb\u7edf\u65f6\u95f4 \u5e94\u7b54\u793a\u4f8b\uff1a { orig_syssn : 20180112000100020001659358 , sysdtm : 2018-01-12 19:03:23 , cardcd : , txdtm : 2018-01-12 19:03:29 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 13014597435743348787530052 , syssn : 20180112000100020001661542 , respcd : 0000 }","title":"\u8ba2\u5355\u9000\u6b3e"},{"location":"API-Instructions/#_4","text":"\u2460 \u4ec0\u4e48\u72b6\u6001\u7684\u8ba2\u5355\u53ef\u4ee5\u5173\u95ed\uff1f \u626b\u7801\u652f\u4ed8\u4e0e\u516c\u4f17\u53f7\u652f\u4ed8\uff0c\u82e5\u8ba2\u5355\u652f\u4ed8\u672a\u6210\u529f\uff0c\u53ef\u5173\u95ed\uff1b \u82e5\u8ba2\u5355\u5df2\u652f\u4ed8\u6210\u529f\uff0c\u539f\u5219\u4e0a\u4e0d\u5efa\u8bae\u8c03\u7528\u5173\u95ed\u8ba2\u5355\u63a5\u53e3\uff0c\u56e0\u94f6\u884c\u5bf9\u4e8e\u8be5\u8ba2\u5355\u652f\u6301\u6807\u51c6\u4e0d\u4e00\u81f4\uff0c\u5f88\u53ef\u80fd\u5bfc\u81f4\u5173\u95ed\u5931\u8d25\u3002 \u5237\u5361\u652f\u4ed8\uff0c\u8ba2\u5355\u652f\u4ed8\u672a\u6210\u529f\uff0c\u90fd\u53ef\u4ee5\u5173\u95ed\u8ba2\u5355\uff1b\u82e5\u652f\u4ed8\u6210\u529f\u7684\u540c\u65f6\uff0c\u8c03\u7528\u5173\u95ed\u8ba2\u5355\u63a5\u53e3\uff0c\u5b9e\u9645\u662f\u5fae\u4fe1\u7684\u64a4\u9500API\uff0c\u6b64\u8ba2\u5355\u652f\u4ed8\u7684\u6b3e\u9879\u5c31\u4f1a\u539f\u8def\u8fd4\u56de\u3002 \u2461\u5173\u95ed\u8ba2\u5355\u5e94\u7528\u573a\u666f \u5173\u95ed\u8ba2\u5355\u53ea\u662f\u9002\u7528\u4e8e\u5f53\u65f6\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u907f\u514d\u91cd\u590d\u652f\u4ed8\u3002 \u4e3a\u4e86\u907f\u514d\u9020\u6210\u5404\u79cd\u672a\u77e5\u95ee\u9898\uff0c\u8bf7\u4e0d\u8981\u628a\u5173\u95ed\u8ba2\u5355\u63a5\u53e3\u5f53\u505a\u9000\u6b3e\u63a5\u53e3\u4f7f\u7528\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/close \u63cf\u8ff0\u4fe1\u606f \u5173\u95ed\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d\u3002 txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS syssn \u5426 \u94b1\u65b9\u8ba2\u5355\u53f7 \u5176\u4e2d\u53c2\u6570syssn\u4e0eout_trade_no\u81f3\u5c11\u4f20\u9012\u4e00\u4e2a out_trade_no \u5426 \u5916\u90e8\u8ba2\u5355\u53f7\uff0c \u5176\u4e2d\u53c2\u6570syssn\u4e0eout_trade_no\u81f3\u5c11\u4f20\u9012\u4e00\u4e2a txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u5173\u95ed\u4ea4\u6613\u751f\u6210\u7684\u552f\u4e00\u8ba2\u5355\u53f7 orig_syssn \u539f\u4ea4\u6613\u94b1\u65b9\u8ba2\u5355\u53f7\uff0c\u5bf9\u5e94\u88ab\u5173\u95ed\u539f\u8ba2\u5355syssn txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-mm-dd HH:MM:DD sysdtm \u7cfb\u7edf\u4ea4\u6613\u65f6\u95f4 \u5e94\u7b54\u793a\u4f8b\uff1a { orig_syssn : 20180112000100020001659801 , sysdtm : 2018-01-12 19:07:02 , cardcd : , txdtm : 2018-01-12 19:07:09 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , syssn : 20180112000100020001661611 , respcd : 0000 } \u6ce8\uff1a\u5173\u95ed\u8ba2\u5355\u975e\u901a\u7528\u652f\u6301\uff0c\u53ef\u80fd\u51fa\u73b0\u4e0d\u652f\u6301\u5173\u95ed\u8ba2\u5355\u7684\u60c5\u51b5\uff0c\u82e5\u5173\u95ed\u8ba2\u5355\u5e94\u7b54\u8fd4\u56de\u7801\u4e3a\u201c1297\u201d\u6216\u8fd4\u56de\u5185\u5bb9\u65e0syssn\u5b57\u6bb5\uff08\u6ce8\uff1a\u4e0d\u662forig_syssn\uff09\uff0c\u8bf4\u660e\u8be5\u4ea4\u6613\u4e0d\u652f\u6301\u5173\u95ed\u8ba2\u5355\uff0c\u5982\u679c\u7528\u6237\u5df2\u6210\u529f\u652f\u4ed8\uff0c\u53ef\u8c03\u7528[\u9000\u6b3e\u63a5\u53e3](#\u8ba2\u5355\u9000\u6b3e)\u8fdb\u884c\u9000\u6b3e\u3002","title":"\u8ba2\u5355\u5173\u95ed"},{"location":"API-Instructions/#_5","text":"\u8bf4\u660e \uff1a\u7ed9\u8ba2\u5355\u6dfb\u52a0\u4ea4\u6613\u5907\u6ce8\uff1b\u6ce8\u610f\uff1a\u4e0d\u652f\u6301\u6e20\u9053\u6a21\u5f0f\u7684\u5546\u6237\u6dfb\u52a0\u5907\u6ce8 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f \uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/add_note \u63cf\u8ff0\u4fe1\u606f \u4e3a\u8ba2\u5355\u6dfb\u52a0\u5907\u6ce8 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e code \u662f \u94b1\u65b9\u63d0\u4f9b\u7684\u5546\u6237code syssn \u662f \u4ea4\u6613\u6210\u529f\u540e\u94b1\u65b9\u8fd4\u56de\u7684\u8ba2\u5355\u53f7 note \u662f \u9700\u8981\u6dfb\u52a0\u7684\u5907\u6ce8\u4fe1\u606f\uff0c\u4e0d\u8d85\u8fc7200\u4e2a\u5b57\u7b26 \u8fd4\u56de\u53c2\u6570\u793a\u4f8b\uff1a { resperr : , respcd : 0000 , respmsg : , data :{}}","title":"\u8ba2\u5355\u5907\u6ce8"},{"location":"API-Instructions/#_6","text":"\u8bf4\u660e\uff1a \u6e20\u9053\u9694\u65e5\u4e0b\u8f7d\u6e05\u7b97\u5bf9\u8d26\u5355\uff0c\u4ee5\u81ea\u7136\u65e5\u4e3a\u5355\u4f4d\uff0c\u5305\u542b\u6bcf\u5bb6\u5546\u6237\u7684\u8d26\u5355\u4fe1\u606f\u3002 \u53ea\u80fd\u5728\u6b63\u5f0f\u73af\u5883\u4e0a\u8bf7\u6c42\u624d\u53ef\u4ee5\uff0c\u8fd4\u56de\u5185\u5bb9\u6587\u4ef6\u4e3azip\u683c\u5f0f\u538b\u7f29\u5305\u6587\u4ef6\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /download/v1/trade_bill \u63cf\u8ff0\u4fe1\u606f \u901a\u8fc7\u63a5\u53e3\u83b7\u53d6\u5bf9\u8d26\u5355\u6587\u4ef6\uff0c\u4fdd\u5b58\u4e3azip\u6587\u4ef6 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e trade_date \u662f \u83b7\u53d6\u5bf9\u8d26\u5355\u7684\u5177\u4f53\u65e5\u671f \u59822017-10-17","title":"\u4e0b\u8f7d\u5bf9\u8d26\u5355"},{"location":"APP-pay/","text":"APP\u652f\u4ed8 # \u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u652f\u6301\u72ec\u7acb\u5f00\u53d1\u7684iOS\u3001Android\u5e94\u7528\u7a0b\u5e8f\u81ea\u6709\u4e1a\u52a1\u903b\u8f91\u4e2d\u9700\u8981\u652f\u4ed8\u573a\u666f\u4e2d\u4f7f\u7528\uff0c\u901a\u8fc7\u4e0b\u5355\u63a5\u53e3\u83b7\u53d6\u652f\u4ed8\u53c2\u6570\uff0c\u62c9\u8d77Alipay HK\u6216Wechat Pay\u9999\u6e2f\u94b1\u5305\u8fdb\u884c\u4ed8\u6b3e\uff0c\u4ed8\u6b3e\u6210\u529f\u540e\u786e\u8ba4\u652f\u4ed8\u7ed3\u679c\u5e76\u5b8c\u6210\u4e1a\u52a1\u6d41\u7a0b\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD\uff1b \u4eba\u6c11\u5e01\uff1aCNY\uff1b \u7f8e\u5143\uff1aUSD\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b\uff1a 801010 WeixinHK APP\u652f\u4ed8\uff1b801510 AlipayHK APP\u652f\u4ed8\uff1b out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u8ba2\u5355\u53f7\u3002\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4\uff0c\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 goods_info \u5426 AlipayHK APP\u652f\u4ed8\u6b64\u53c2\u6570\u5fc5\u4f20\uff1b \u5546\u54c1\u63cf\u8ff0\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc7300\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u5426 \u6709\u5b50\u5546\u6237\u65f6\uff0c\u6b64\u53c2\u6570\u5fc5\u4f20\uff1b \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 pay_tag \u5426 \u8d70AlipayHK\u652f\u4ed8\u901a\u9053\u7684\uff0c\u6b64\u53c2\u6570\u5fc5\u4f20\uff1b \u652f\u6301\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\u6807\u8bb0\u3002\u503c\u4e3aALIPAYHK\u6216ALIPYCN\uff0cALIPAYHK\u8868\u793a\u652f\u6301\u652f\u4ed8\u5b9d\u9999\u6e2f\u94b1\u5305\u652f\u4ed8\uff0cALIPYCN\u8868\u793a\u652f\u4ed8\u5b9d\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\uff0c\u9ed8\u8ba4\u503c\u4e3aALIPAYHK\u3002 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740()\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u8ba2\u5355\u53f7\uff1b out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b pay_type \u652f\u4ed8\u7c7b\u578b 801010 WeixinHK APP\u652f\u4ed8\uff1b801510 AlipayHK APP\u652f\u4ed8\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sysdtm \u7cfb\u7edf\u65f6\u95f4 respcd \u8bf7\u6c42\u4e0b\u5355\u7ed3\u679c\u8fd4\u56de\u7801,0000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\u3002 respmsg \u8c03\u8bd5\u4fe1\u606f\u3002 resperr \u6210\u529f\u6216\u9519\u8bef\u4fe1\u606f\u63cf\u8ff0 pay_params \u5524\u8d77APP\u652f\u4ed8\u7684\u8bf7\u6c42\u53c2\u6570 \u5e94\u7b54\u793a\u4f8b\uff08AlipayHK APP\uff09\uff1a { syssn : 20180904016100020000058497 , out_trade_no : 1018172042-1226 , txamt : 1 , txcurrcd : HKD , pay_type : 801510 , txdtm : 2018-09-04 19:00:00 , sysdtm : 2018-09-04 20:30:18 , udid : qiantai2 , respcd : 0000 , respmsg : , resperr : \\u4ea4\\u6613\\u6210\\u529f , chnlsn : , pay_params : { partner : 2088621909478475 , seller_id : forex_318255@alitest.com , subject : goods_name , body : goods_info , total_fee : 0.01 , notify_url : http://www.xxx.com , service : mobile.securitypay.pay , cardcd : , payment_type : 1 , _input_charset : UTF-8 , it_b_pay : 30m , return_url : http://www.qfpay.com/ , payment_inst : ALIPAYHK , currency : HKD , product_code : NEW_WAP_OVERSEAS_SELLER , forex_biz : FP , sign : AXwqha79D%2BdnJvN4qyIk6wrintWXMFL3DNvIsJ9wmoBVkhWdE1jWb%2Fn7gWwcEPJkxrmgE%2BSLaPOo9mTemDzDgt99tJ4yPL%2B%2FFLiT78e5xCyZKOdPLcKnZ2fAKaiBTca43m5J6GE%2B8ybu56fRLw0hI8oWSxiJzY54MxwDGbE4QoQ%3D , sign_type : RSA , secondary_merchant_id : 2325496 , secondary_merchant_name : shusheng , secondary_merchant_industry : 5311 } } \u5e94\u7b54\u793a\u4f8b\uff08WeixinHK APP\uff09\uff1a { syssn : 20181018016100020000064335 , out_trade_no : 1018171240-6683 , txamt : 1 , txcurrcd : HKD , pay_type : 801010 , txdtm : 2018-10-18 17:12:40 , sysdtm : 2018-10-18 17:12:41 , udid : qiantai2 , respcd : 0000 , respmsg : OK , resperr : \\u4ea4\\u6613\\u6210\\u529f\\uff01 , cardcd : , pay_params : { prepayid : 415398539638736726430369036811 , sign : 89D5D3346DCD0C5F848C4ADFA8F2E70D }, chnlsn : } \u5524\u8d77APP\u652f\u4ed8 # \u83b7\u53d6\u4ee5\u4e0a\u8fd4\u56de\u53c2\u6570\u540e\uff0cAPP\u901a\u8fc7pay_params\u53c2\u6570\u4e2d\u5185\u5bb9\u8c03\u8d77Alipay HK SDK\u6216Wechat Pay SDK\u8fdb\u884c\u652f\u4ed8\uff0c\u5177\u4f53\u53ef\u53c2\u8003\u5b98\u7f51\u6587\u6863\uff1a AlipayHK\uff1a https://global.alipay.com/service/app_hk/6 \u8fd4\u56de\u53c2\u6570pay_params\u5b57\u6bb5\u5982\u4e0b\uff08AlipayHK APP\uff09\uff1a { partner : 2088621909478475 , seller_id : forex_318255@alitest.com , out_trade_no : 20180904016100020000058497 , subject : goods_name , body : goods_info , total_fee : 0.01 , notify_url : http://www.xxx.com , service : mobile.securitypay.pay , payment_type : 1 , _input_charset : UTF-8 , it_b_pay : 30m , return_url : http://www.qfpay.com/ , payment_inst : ALIPAYHK , currency : HKD , product_code : NEW_WAP_OVERSEAS_SELLER , forex_biz : FP , sign : AXwqha79D%2BdnJvN4qyIk6wrintWXMFL3DNvIsJ9wmoBVkhWdE1jWb%2Fn7gWwcEPJkxrmgE%2BSLaPOo9mTemDzDgt99tJ4yPL%2B%2FFLiT78e5xCyZKOdPLcKnZ2fAKaiBTca43m5J6GE%2B8ybu56fRLw0hI8oWSxiJzY54MxwDGbE4QoQ%3D , sign_type : RSA , secondary_merchant_id : 2325496 , secondary_merchant_name : shusheng , secondary_merchant_industry : 5311 } \u8fd4\u56de\u53c2\u6570pay_params\u5b57\u6bb5\u5982\u4e0b\uff08WeixinHK APP\uff09\uff1a { prepayid : 415398539638736726430369036811 , sign : 89D5D3346DCD0C5F848C4ADFA8F2E70D } python\u8bf7\u6c42\u793a\u4f8b\uff1a #!/usr/bin/env python #coding=utf8 import urllib, urllib2, hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e\u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper() txamt = '1' txcurrcd = \u2018HKD\u2019 pay_type = '801510' out_trade_no = '145399626053599943' txdtm = '2018-09-10 11:51:00' goods_name = '\u94b1\u65b9\u6d4b\u8bd5goods_name' goods_info = '\u94b1\u65b9\u6d4b\u8bd5goods_info' mchid = 'P5W2di7Raa' return_url = 'http://www.qfpay.com/' seller_id = 'forex_318255@alitest.com' key = '\u94b1\u65b9\u5206\u914d\u7684app_key' data ={'txamt': txamt, 'txcurrcd': txcurrcd, 'pay_type': pay_type, 'out_trade_no': out_trade_no, 'txdtm': txdtm, 'goods_name':goods_name, 'goods_info ': goods_info, 'mchid': mchid, 'return_url ': return_url, 'seller_id ': seller_id} req = urllib2.Request('https://openapi-test.qfpay.com/trade/v1/payment',urllib.urlencode(data)) req.add_header('X-QF-APPCODE', '\u94b1\u65b9\u5206\u914d\u7684app_code') req.add_header('X-QF-SIGN', make_req_sign(data, key)) resp = urllib2.urlopen(req) print resp.read() \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3\u3002","title":"APP\u652f\u4ed8"},{"location":"APP-pay/#app","text":"\u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u652f\u6301\u72ec\u7acb\u5f00\u53d1\u7684iOS\u3001Android\u5e94\u7528\u7a0b\u5e8f\u81ea\u6709\u4e1a\u52a1\u903b\u8f91\u4e2d\u9700\u8981\u652f\u4ed8\u573a\u666f\u4e2d\u4f7f\u7528\uff0c\u901a\u8fc7\u4e0b\u5355\u63a5\u53e3\u83b7\u53d6\u652f\u4ed8\u53c2\u6570\uff0c\u62c9\u8d77Alipay HK\u6216Wechat Pay\u9999\u6e2f\u94b1\u5305\u8fdb\u884c\u4ed8\u6b3e\uff0c\u4ed8\u6b3e\u6210\u529f\u540e\u786e\u8ba4\u652f\u4ed8\u7ed3\u679c\u5e76\u5b8c\u6210\u4e1a\u52a1\u6d41\u7a0b\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD\uff1b \u4eba\u6c11\u5e01\uff1aCNY\uff1b \u7f8e\u5143\uff1aUSD\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b\uff1a 801010 WeixinHK APP\u652f\u4ed8\uff1b801510 AlipayHK APP\u652f\u4ed8\uff1b out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u8ba2\u5355\u53f7\u3002\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4\uff0c\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 goods_info \u5426 AlipayHK APP\u652f\u4ed8\u6b64\u53c2\u6570\u5fc5\u4f20\uff1b \u5546\u54c1\u63cf\u8ff0\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc7300\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u5426 \u6709\u5b50\u5546\u6237\u65f6\uff0c\u6b64\u53c2\u6570\u5fc5\u4f20\uff1b \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 pay_tag \u5426 \u8d70AlipayHK\u652f\u4ed8\u901a\u9053\u7684\uff0c\u6b64\u53c2\u6570\u5fc5\u4f20\uff1b \u652f\u6301\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\u6807\u8bb0\u3002\u503c\u4e3aALIPAYHK\u6216ALIPYCN\uff0cALIPAYHK\u8868\u793a\u652f\u6301\u652f\u4ed8\u5b9d\u9999\u6e2f\u94b1\u5305\u652f\u4ed8\uff0cALIPYCN\u8868\u793a\u652f\u4ed8\u5b9d\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\uff0c\u9ed8\u8ba4\u503c\u4e3aALIPAYHK\u3002 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740()\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e syssn \u94b1\u65b9\u8ba2\u5355\u53f7\uff1b out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b pay_type \u652f\u4ed8\u7c7b\u578b 801010 WeixinHK APP\u652f\u4ed8\uff1b801510 AlipayHK APP\u652f\u4ed8\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sysdtm \u7cfb\u7edf\u65f6\u95f4 respcd \u8bf7\u6c42\u4e0b\u5355\u7ed3\u679c\u8fd4\u56de\u7801,0000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\u3002 respmsg \u8c03\u8bd5\u4fe1\u606f\u3002 resperr \u6210\u529f\u6216\u9519\u8bef\u4fe1\u606f\u63cf\u8ff0 pay_params \u5524\u8d77APP\u652f\u4ed8\u7684\u8bf7\u6c42\u53c2\u6570 \u5e94\u7b54\u793a\u4f8b\uff08AlipayHK APP\uff09\uff1a { syssn : 20180904016100020000058497 , out_trade_no : 1018172042-1226 , txamt : 1 , txcurrcd : HKD , pay_type : 801510 , txdtm : 2018-09-04 19:00:00 , sysdtm : 2018-09-04 20:30:18 , udid : qiantai2 , respcd : 0000 , respmsg : , resperr : \\u4ea4\\u6613\\u6210\\u529f , chnlsn : , pay_params : { partner : 2088621909478475 , seller_id : forex_318255@alitest.com , subject : goods_name , body : goods_info , total_fee : 0.01 , notify_url : http://www.xxx.com , service : mobile.securitypay.pay , cardcd : , payment_type : 1 , _input_charset : UTF-8 , it_b_pay : 30m , return_url : http://www.qfpay.com/ , payment_inst : ALIPAYHK , currency : HKD , product_code : NEW_WAP_OVERSEAS_SELLER , forex_biz : FP , sign : AXwqha79D%2BdnJvN4qyIk6wrintWXMFL3DNvIsJ9wmoBVkhWdE1jWb%2Fn7gWwcEPJkxrmgE%2BSLaPOo9mTemDzDgt99tJ4yPL%2B%2FFLiT78e5xCyZKOdPLcKnZ2fAKaiBTca43m5J6GE%2B8ybu56fRLw0hI8oWSxiJzY54MxwDGbE4QoQ%3D , sign_type : RSA , secondary_merchant_id : 2325496 , secondary_merchant_name : shusheng , secondary_merchant_industry : 5311 } } \u5e94\u7b54\u793a\u4f8b\uff08WeixinHK APP\uff09\uff1a { syssn : 20181018016100020000064335 , out_trade_no : 1018171240-6683 , txamt : 1 , txcurrcd : HKD , pay_type : 801010 , txdtm : 2018-10-18 17:12:40 , sysdtm : 2018-10-18 17:12:41 , udid : qiantai2 , respcd : 0000 , respmsg : OK , resperr : \\u4ea4\\u6613\\u6210\\u529f\\uff01 , cardcd : , pay_params : { prepayid : 415398539638736726430369036811 , sign : 89D5D3346DCD0C5F848C4ADFA8F2E70D }, chnlsn : }","title":"APP\u652f\u4ed8"},{"location":"APP-pay/#app_1","text":"\u83b7\u53d6\u4ee5\u4e0a\u8fd4\u56de\u53c2\u6570\u540e\uff0cAPP\u901a\u8fc7pay_params\u53c2\u6570\u4e2d\u5185\u5bb9\u8c03\u8d77Alipay HK SDK\u6216Wechat Pay SDK\u8fdb\u884c\u652f\u4ed8\uff0c\u5177\u4f53\u53ef\u53c2\u8003\u5b98\u7f51\u6587\u6863\uff1a AlipayHK\uff1a https://global.alipay.com/service/app_hk/6 \u8fd4\u56de\u53c2\u6570pay_params\u5b57\u6bb5\u5982\u4e0b\uff08AlipayHK APP\uff09\uff1a { partner : 2088621909478475 , seller_id : forex_318255@alitest.com , out_trade_no : 20180904016100020000058497 , subject : goods_name , body : goods_info , total_fee : 0.01 , notify_url : http://www.xxx.com , service : mobile.securitypay.pay , payment_type : 1 , _input_charset : UTF-8 , it_b_pay : 30m , return_url : http://www.qfpay.com/ , payment_inst : ALIPAYHK , currency : HKD , product_code : NEW_WAP_OVERSEAS_SELLER , forex_biz : FP , sign : AXwqha79D%2BdnJvN4qyIk6wrintWXMFL3DNvIsJ9wmoBVkhWdE1jWb%2Fn7gWwcEPJkxrmgE%2BSLaPOo9mTemDzDgt99tJ4yPL%2B%2FFLiT78e5xCyZKOdPLcKnZ2fAKaiBTca43m5J6GE%2B8ybu56fRLw0hI8oWSxiJzY54MxwDGbE4QoQ%3D , sign_type : RSA , secondary_merchant_id : 2325496 , secondary_merchant_name : shusheng , secondary_merchant_industry : 5311 } \u8fd4\u56de\u53c2\u6570pay_params\u5b57\u6bb5\u5982\u4e0b\uff08WeixinHK APP\uff09\uff1a { prepayid : 415398539638736726430369036811 , sign : 89D5D3346DCD0C5F848C4ADFA8F2E70D } python\u8bf7\u6c42\u793a\u4f8b\uff1a #!/usr/bin/env python #coding=utf8 import urllib, urllib2, hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e\u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper() txamt = '1' txcurrcd = \u2018HKD\u2019 pay_type = '801510' out_trade_no = '145399626053599943' txdtm = '2018-09-10 11:51:00' goods_name = '\u94b1\u65b9\u6d4b\u8bd5goods_name' goods_info = '\u94b1\u65b9\u6d4b\u8bd5goods_info' mchid = 'P5W2di7Raa' return_url = 'http://www.qfpay.com/' seller_id = 'forex_318255@alitest.com' key = '\u94b1\u65b9\u5206\u914d\u7684app_key' data ={'txamt': txamt, 'txcurrcd': txcurrcd, 'pay_type': pay_type, 'out_trade_no': out_trade_no, 'txdtm': txdtm, 'goods_name':goods_name, 'goods_info ': goods_info, 'mchid': mchid, 'return_url ': return_url, 'seller_id ': seller_id} req = urllib2.Request('https://openapi-test.qfpay.com/trade/v1/payment',urllib.urlencode(data)) req.add_header('X-QF-APPCODE', '\u94b1\u65b9\u5206\u914d\u7684app_code') req.add_header('X-QF-SIGN', make_req_sign(data, key)) resp = urllib2.urlopen(req) print resp.read() \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3\u3002","title":"\u5524\u8d77APP\u652f\u4ed8"},{"location":"alipay/","text":"\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97 # \u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u652f\u6301\u7528\u6237\u5728\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u3001\u652f\u4ed8\u5b9d\u73af\u5883\u5185\u7684h5\u7f51\u9875\u76f4\u63a5\u5524\u8d77\u652f\u4ed8\u5b9d\u8f93\u5165\u5bc6\u7801\u652f\u4ed8\u3002 \u83b7\u53d6openid # \u53c2\u8003\u652f\u4ed8\u5b9d\u5b98\u65b9\u6587\u6863\uff0c\u963f\u91cc\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u901a\u8fc7oauth\u83b7\u53d6user_id\uff0c\u5177\u4f53\u53c2\u8003 https://docs.open.alipay.com/289/105656 \u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3 # \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u652f\u4ed8:800107 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS openid \u662f \u4e0a\u4e00\u6b65\u83b7\u53d6\u7684user_id \u793a\u4f8b\uff1a2088802811715388 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800107 sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f\u3002 out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\u3002 syssn \u94b1\u65b9\u8ba2\u5355\u53f7\u3002 respcd \u8bf7\u6c42\u4e0b\u5355\u7ed3\u679c\u8fd4\u56de\u7801,0000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\u3002 pay_params \u5524\u8d77\u652f\u4ed8\u5b9d\u652f\u4ed8\u53c2\u6570\u3002 \u8fd4\u56de\u793a\u4f8b\uff1a\u83b7\u53d6\u8fd4\u56de\u5185\u5bb9pay_params { pay_type : 800107 , sysdtm : 2018-01-11 18:44:59 , cardcd : , txdtm : 2018-01-11 18:45:03 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 130145478743444389767778530052 , syssn : 20180111000100020001649385 , respcd : 0000 , pay_params : { tradeNO : 2018011121001004380248132360 } } \u6536\u94f6\u53f0\u5524\u8d77\u652f\u4ed8 # \u53c2\u8003 https://docs.open.alipay.com/common/105591 \u5728\u7f51\u9875\u4e2d\u5524\u8d77\u652f\u4ed8\u5b9d \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3","title":"\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97"},{"location":"alipay/#_1","text":"\u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u652f\u6301\u7528\u6237\u5728\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u3001\u652f\u4ed8\u5b9d\u73af\u5883\u5185\u7684h5\u7f51\u9875\u76f4\u63a5\u5524\u8d77\u652f\u4ed8\u5b9d\u8f93\u5165\u5bc6\u7801\u652f\u4ed8\u3002","title":"\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97"},{"location":"alipay/#openid","text":"\u53c2\u8003\u652f\u4ed8\u5b9d\u5b98\u65b9\u6587\u6863\uff0c\u963f\u91cc\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u901a\u8fc7oauth\u83b7\u53d6user_id\uff0c\u5177\u4f53\u53c2\u8003 https://docs.open.alipay.com/289/105656","title":"\u83b7\u53d6openid"},{"location":"alipay/#_2","text":"\u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\u652f\u4ed8:800107 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS openid \u662f \u4e0a\u4e00\u6b65\u83b7\u53d6\u7684user_id \u793a\u4f8b\uff1a2088802811715388 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800107 sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f\u3002 out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\u3002 syssn \u94b1\u65b9\u8ba2\u5355\u53f7\u3002 respcd \u8bf7\u6c42\u4e0b\u5355\u7ed3\u679c\u8fd4\u56de\u7801,0000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\u3002 pay_params \u5524\u8d77\u652f\u4ed8\u5b9d\u652f\u4ed8\u53c2\u6570\u3002 \u8fd4\u56de\u793a\u4f8b\uff1a\u83b7\u53d6\u8fd4\u56de\u5185\u5bb9pay_params { pay_type : 800107 , sysdtm : 2018-01-11 18:44:59 , cardcd : , txdtm : 2018-01-11 18:45:03 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 130145478743444389767778530052 , syssn : 20180111000100020001649385 , respcd : 0000 , pay_params : { tradeNO : 2018011121001004380248132360 } }","title":"\u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3"},{"location":"alipay/#_3","text":"\u53c2\u8003 https://docs.open.alipay.com/common/105591 \u5728\u7f51\u9875\u4e2d\u5524\u8d77\u652f\u4ed8\u5b9d \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3","title":"\u6536\u94f6\u53f0\u5524\u8d77\u652f\u4ed8"},{"location":"card-pay/","text":"\u5237\u5361\u652f\u4ed8\uff08\u53cd\u626b\uff09 # \u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u652f\u6301\u4f7f\u7528\u626b\u7801\u67aa\u3001\u626b\u7801\u76d2\u5b50\u7b49\u8bbe\u5907\u626b\u63cf\u7528\u6237\u5c55\u793a\u7684\u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u4ed8\u6b3e\u4e8c\u7ef4\u7801\uff0c\u4ee5\u83b7\u53d6auth_code\u4ed8\u6b3e\u6388\u6743\u7801\uff0c\u76f4\u63a5\u8fdb\u884c\u6263\u6b3e\u7684\u7528\u6237\u652f\u4ed8\u65b9\u5f0f\u3002 \u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3 # \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u5237\u5361\u53cd\u626b:800208\uff1b\u652f\u4ed8\u5b9d\u5237\u5361\u53cd\u626b:800108; \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u53cd\u626b800008\uff1b LINEPAY\uff1a801208\uff1bAIRPAY\uff1a801408\uff1b \u94f6\u8054\u4e91\u95ea\u4ed8\uff1a800708\uff1b out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS auth_code \u662f \u5fae\u4fe1\u6216\u8005\u652f\u4ed8\u5b9d\u7684\u6388\u6743\u7801 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 udid \u5426 \u8bbe\u5907\u552f\u4e00id python\u8bf7\u6c42\u793a\u4f8b\uff1a #!/usr/bin/env python #coding=utf8 import urllib, urllib2, hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e\u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper() txamt = '1' txcurrcd = 'CNY' pay_type = '800208' out_trade_no = '145399626053599943' txdtm = '2016-04-11 17:51:00' goods_name = '\u94b1\u65b9\u6d4b\u8bd5' udid = '1880105' auth_code='130700033456383187' key = '\u94b1\u65b9\u5206\u914d\u7684app_key' data ={'txamt': txamt, 'txcurrcd': txcurrcd, 'pay_type': pay_type, 'out_trade_no': out_trade_no, 'txdtm': txdtm, 'goods_name':goods_name,'udid':udid,'auth_code':auth_code} req = urllib2.Request('https://openapi-test.qfpay.com/trade/v1/payment',urllib.urlencode(data)) req.add_header('X-QF-APPCODE', '\u94b1\u65b9\u5206\u914d\u7684app_code') req.add_header('X-QF-SIGN', make_req_sign(data, key)) resp = urllib2.urlopen(req) print resp.read() \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u5237\u5361:800208\uff1b\u652f\u4ed8\u5b9d\u5237\u5361\uff1a800108\uff1b sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 syssn \u94b1\u65b9\u8ba2\u5355\u53f7 respcd \u4ea4\u6613\u8fd4\u56de\u78010000\u8868\u793a\u4ea4\u6613\u652f\u4ed8\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u4ea4\u6613\u5931\u8d25 \u6ce8\uff1a\u5237\u5361\u652f\u4ed8\u8bf7\u6c42payment\u63a5\u53e3\u662f\u76f4\u63a5\u53d1\u8d77\u7528\u6237\u6263\u6b3e\uff0c\u8fd4\u56derespcd\u53c2\u6570\u5b57\u6bb5\u4ee3\u8868\u7528\u6237\u4ea4\u6613\u4ed8\u6b3e\u7ed3\u679c\uff0c\u82e5\u8be5\u5b57\u6bb5\u72b6\u6001\u4e3a1143\u30011145\uff0c\u5efa\u8bae\u5546\u6237\u7ee7\u7eed\u8c03\u7528\u67e5\u8be2\u63a5\u53e3\uff0c\u7ee7\u7eed\u8ddf\u8e2a\u4ea4\u6613\u4ed8\u6b3e\u7ed3\u679c\uff0c\u82e5\u957f\u65f6\u95f4\u4e3a1143\u30011145\u72b6\u6001\uff0c\u53ef\u91cd\u65b0\u53d1\u8d77\u8ba2\u5355\u4ea4\u6613\u3002 \u5e94\u7b54\u793a\u4f8b\uff1a { pay_type : 800208 , sysdtm : 2018-01-12 17:10:26 , cardcd : oo3Lss-DzPSygtHtAbfuXeQFCz18 , txdtm : 2018-01-12 17:10:32 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 1301459478787530052 , syssn : 20180112000100020001659358 , respcd : 0000 } \u6ce8\uff1a\u8be5\u8bf7\u6c42\u8fd4\u56de\u7ed3\u679c\u76f4\u63a5\u4e3a\u7528\u6237\u652f\u4ed8\u7ed3\u679c\u3002 \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3\u3002","title":"\u5237\u5361\u652f\u4ed8(\u53cd\u626b)"},{"location":"card-pay/#_1","text":"\u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u652f\u6301\u4f7f\u7528\u626b\u7801\u67aa\u3001\u626b\u7801\u76d2\u5b50\u7b49\u8bbe\u5907\u626b\u63cf\u7528\u6237\u5c55\u793a\u7684\u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u4ed8\u6b3e\u4e8c\u7ef4\u7801\uff0c\u4ee5\u83b7\u53d6auth_code\u4ed8\u6b3e\u6388\u6743\u7801\uff0c\u76f4\u63a5\u8fdb\u884c\u6263\u6b3e\u7684\u7528\u6237\u652f\u4ed8\u65b9\u5f0f\u3002","title":"\u5237\u5361\u652f\u4ed8\uff08\u53cd\u626b\uff09"},{"location":"card-pay/#_2","text":"\u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u5237\u5361\u53cd\u626b:800208\uff1b\u652f\u4ed8\u5b9d\u5237\u5361\u53cd\u626b:800108; \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u53cd\u626b800008\uff1b LINEPAY\uff1a801208\uff1bAIRPAY\uff1a801408\uff1b \u94f6\u8054\u4e91\u95ea\u4ed8\uff1a800708\uff1b out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS auth_code \u662f \u5fae\u4fe1\u6216\u8005\u652f\u4ed8\u5b9d\u7684\u6388\u6743\u7801 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 udid \u5426 \u8bbe\u5907\u552f\u4e00id python\u8bf7\u6c42\u793a\u4f8b\uff1a #!/usr/bin/env python #coding=utf8 import urllib, urllib2, hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e\u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper() txamt = '1' txcurrcd = 'CNY' pay_type = '800208' out_trade_no = '145399626053599943' txdtm = '2016-04-11 17:51:00' goods_name = '\u94b1\u65b9\u6d4b\u8bd5' udid = '1880105' auth_code='130700033456383187' key = '\u94b1\u65b9\u5206\u914d\u7684app_key' data ={'txamt': txamt, 'txcurrcd': txcurrcd, 'pay_type': pay_type, 'out_trade_no': out_trade_no, 'txdtm': txdtm, 'goods_name':goods_name,'udid':udid,'auth_code':auth_code} req = urllib2.Request('https://openapi-test.qfpay.com/trade/v1/payment',urllib.urlencode(data)) req.add_header('X-QF-APPCODE', '\u94b1\u65b9\u5206\u914d\u7684app_code') req.add_header('X-QF-SIGN', make_req_sign(data, key)) resp = urllib2.urlopen(req) print resp.read() \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u5237\u5361:800208\uff1b\u652f\u4ed8\u5b9d\u5237\u5361\uff1a800108\uff1b sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7 syssn \u94b1\u65b9\u8ba2\u5355\u53f7 respcd \u4ea4\u6613\u8fd4\u56de\u78010000\u8868\u793a\u4ea4\u6613\u652f\u4ed8\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u4ea4\u6613\u5931\u8d25 \u6ce8\uff1a\u5237\u5361\u652f\u4ed8\u8bf7\u6c42payment\u63a5\u53e3\u662f\u76f4\u63a5\u53d1\u8d77\u7528\u6237\u6263\u6b3e\uff0c\u8fd4\u56derespcd\u53c2\u6570\u5b57\u6bb5\u4ee3\u8868\u7528\u6237\u4ea4\u6613\u4ed8\u6b3e\u7ed3\u679c\uff0c\u82e5\u8be5\u5b57\u6bb5\u72b6\u6001\u4e3a1143\u30011145\uff0c\u5efa\u8bae\u5546\u6237\u7ee7\u7eed\u8c03\u7528\u67e5\u8be2\u63a5\u53e3\uff0c\u7ee7\u7eed\u8ddf\u8e2a\u4ea4\u6613\u4ed8\u6b3e\u7ed3\u679c\uff0c\u82e5\u957f\u65f6\u95f4\u4e3a1143\u30011145\u72b6\u6001\uff0c\u53ef\u91cd\u65b0\u53d1\u8d77\u8ba2\u5355\u4ea4\u6613\u3002 \u5e94\u7b54\u793a\u4f8b\uff1a { pay_type : 800208 , sysdtm : 2018-01-12 17:10:26 , cardcd : oo3Lss-DzPSygtHtAbfuXeQFCz18 , txdtm : 2018-01-12 17:10:32 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 1301459478787530052 , syssn : 20180112000100020001659358 , respcd : 0000 } \u6ce8\uff1a\u8be5\u8bf7\u6c42\u8fd4\u56de\u7ed3\u679c\u76f4\u63a5\u4e3a\u7528\u6237\u652f\u4ed8\u7ed3\u679c\u3002 \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3\u3002","title":"\u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3"},{"location":"developer/","text":"\u5f00\u53d1\u6307\u5357 # \u73af\u5883\u8bf4\u660e # \u94b1\u53f0\u4ea4\u6613\u4e91\u5bf9\u5916\u670d\u52a1\u6709\u4e24\u4e2a\u73af\u5883: \u6d4b\u8bd5\u73af\u5883\uff1a \u7528\u4e8e\u6d4b\u8bd5\u3001\u5bf9\u63a5\u8054\u8c03\u6d4b\u8bd5code\u3001key\u3002 \u6b63\u5f0f\u73af\u5883\uff1a \u5546\u7528\u670d\u52a1\uff0c\u66f4\u9ad8\u7a33\u5b9a\u6027\u3002 l \u6d4b\u8bd5code\u3001key\u8d44\u91d1\u4e0d\u8fdb\u884c\u6e05\u7ed3\u7b97\uff0c\u8bf7\u4f7f\u7528\u5c0f\u989d\u6d4b\u8bd5\u3002 l mchid\u5b50\u5546\u6237\u53f7\uff0c\u6e20\u9053\u7ba1\u7406\u540e\u53f0\u67e5\u770b\uff0c\u8be5\u540e\u53f0\u7b49\u7533\u8bf7\u6b63\u5f0fcode\u3001key\u540e\u63d0\u4f9b\u3002 l code\u3001key \u4ee5\u6e20\u9053\u4e3a\u57fa\u7840\u914d\u7f6e\uff0c\u6e20\u9053\u4e0b\u5b50\u5546\u6237\u53ef\u7edf\u4e00\u4f7f\u7528\u4e00\u5957code\u3001key\u3002 \u63a5\u53e3\u8bf7\u6c42\u57df\u540d\uff1a \u6d4b\u8bd5\u73af\u5883\uff1ahttps://openapi-test.qfpay.com \u6b63\u5f0f\u73af\u5883\uff1ahttps://openapi.qfpay.com \u652f\u6301\u63a5\u53e3\u5217\u8868 \uff1a API\u63a5\u53e3\u8bf4\u660e\uff1a \u63a5\u53e3\u5730\u5740\uff1a \u63a5\u53e3\u63cf\u8ff0 \u8bf7\u6c42\u65b9\u5f0f\u3001\u8bf4\u660e \u8ba2\u5355\u652f\u4ed8 /trade/v1/payment \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3\uff0c\u7528\u4e8e\u4e0b\u5355\u6216\u652f\u4ed8\u53d1\u8d77 Http\u7684Post\u6216\u8005Get\u65b9\u5f0f\uff08form\u8868\u5355\u63d0\u4ea4\uff09 \u8ba2\u5355\u67e5\u8be2 /trade/v1/query \u67e5\u8be2\u8ba2\u5355\u4fe1\u606f\uff0c\u7528\u4e8e\u5df2\u6210\u529f\u4e0b\u5355\u7684\u8ba2\u5355 Http\u7684Post\u6216\u8005Get\u65b9\u5f0f \u8ba2\u5355\u9000\u6b3e /trade/v1/refund \u7528\u4e8e\u5df2\u652f\u4ed8\u8ba2\u5355\u9000\u6b3e Http\u7684Post\u65b9\u5f0f \u8ba2\u5355\u5173\u95ed /tarde/v1/close \u5173\u95ed\u4ea4\u6613 Http\u7684Post\u65b9\u5f0f \u7f16\u7801\u8bf4\u660e \u65e0\u7279\u6b8a\u8bf4\u660e\uff0c\u6240\u6709\u63a5\u53e3\u53c2\u6570\u8fd4\u56de\u4f7f\u7528UTF-8\u7f16\u7801\u3002 \u7b7e\u540d\u6821\u9a8c\u7b97\u6cd5 # \u65e0\u7279\u6b8a\u8bf4\u660e\uff0c\u6240\u6709\u8bf7\u6c42\u63a5\u53e3\u7b7e\u540d\u5747\u4f7f\u7528\u8be5\u7b7e\u540d\u65b9\u5f0f\u3002 \u8bf7\u6c42\u63a5\u53e3\u53c2\u6570\u7b7e\u540d\u65b9\u5f0f\uff1a \u6b65\u9aa41\uff1a \u5c06\u6240\u6709\u53c2\u6570\u6309\u7167\u53c2\u6570\u540d\u5347\u5e8f\u3002 \u53c2\u6570\u5217\u8868\u4e3a\uff1aabc=value1 bcd=value2 bad=value3 \u6392\u5e8f\u7ed3\u679c\u4e3a\uff1aabc=value1 bad=value3 bcd=value2 \u6b65\u9aa42\uff1a \u5c06\u6240\u6709\u53c2\u6570\u7528 \u8fde\u63a5\uff0c\u5f97\u5230\u5f85\u7b7e\u540d\u5b57\u7b26\u4e32\u3002 abc=value1 bad=value3 bcd=value2 \u6b65\u9aa43\uff1a \u5c06\u5f85\u7b7e\u540d\u7684\u5b57\u7b26\u4e32\u4e0e\u5f00\u53d1\u8005\u7684Key\u62fc\u63a5\u3002 abc=value1 bad=value3 bcd=value2 Key \u6b65\u9aa44\uff1a \u5c06\u62fc\u63a5\u8d77\u6765\u7684\u5b57\u7b26\u4e32\u505aMD5\u8fd0\u7b97\u3002 MD5(abc=value1 bad=value3 bcd=value2 Key ) \u6b65\u9aa45\uff1a \u8bf7\u6c42\u63a5\u53e3\u4f7f\u7528\u7b7e\u540d\u3002 \u5c06\u7b7e\u540d\u7ed3\u679c\u5b58\u5230http\u5934\u90e8\u7684X-QF-SIGN\u5b57\u6bb5\u91cc \u6c42\u7b7e\u540dpython\u793a\u4f8b\uff1a import hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e\u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper() \u8bf7\u6c42\u8bf4\u660e # \u8bf7\u6c42API\u63a5\u53e3\uff0chttp\u5934\u90e8\u9700\u8981\u8bbe\u7f6e\u7684\u53c2\u6570\u5982\u4e0b\uff1a \u5b57\u6bb5\u540d\u79f0 \u662f\u5426\u5fc5\u4f20 \u63cf\u8ff0 X-QF-APPCODE \u662f \u5206\u914d\u7ed9\u5f00\u53d1\u8005\u7684app_code\uff0c\u5f00\u53d1\u8005\u7684\u552f\u4e00\u6807\u793a\uff0c\u8be5\u53c2\u6570\u9700\u8981\u94b1\u65b9\u5206\u914d\u7ed9\u5f00\u53d1\u8005\uff01 X-QF-SIGN \u662f \u6309\u7167\u7b7e\u540d\u7b97\u6cd5\u751f\u6210\u7684\u7b7e\u540d \u5e94\u7b54\u9a8c\u7b7e # \u8bf4\u660e\uff1a\u8bf7\u6c42\u63a5\u53e3\u6210\u529f\u540e\uff0c\u63a5\u53e3\u8fd4\u56deJSON\u683c\u5f0f\u5185\u5bb9\uff0c\u83b7\u53d6\u63a5\u53e3\u8fd4\u56de\u4fe1\u606f\uff0c\u8fdb\u884c\u8fd4\u56de\u4fe1\u606f\u9a8c\u7b7e\u3002 \u8fd4\u56dehttp\u5934\u90e8\u4f1a\u8bbe\u7f6e\u7684\u53c2\u6570\u5982\u4e0b\uff1a \u5b57\u6bb5\u540d\u79f0 \u63cf\u8ff0 X-QF-SIGN \u83b7\u53d6http\u5934\u90e8\u7b7e\u540dSIGN\u5185\u5bb9\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u7528\u539f\u59cb\u8fd4\u56de\u5185\u5bb9\u8fde\u63a5key\uff0c\u8fdb\u884cMD5\uff0c\u5373MD5(body+key)\u83b7\u5f97\u7b7e\u540d\uff0c\u4e0e\u8be5SIGN\u5185\u5bb9\u5bf9\u6bd4\u662f\u5426\u4e00\u81f4\uff1b \u5934\u90e8SIGN\u793a\u4f8b\uff1a { 'Server': 'nginx', 'Date': 'Fri, 12 Jan 2018 11:31:18 GMT', 'Content-Type': 'application/json; charset=UTF-8', 'Content-Length': '302', 'Connection': 'keep-alive', 'X-QF-SIGN': '1E2CE7C2A7F8F581C354A857182B7A31', 'X-Powered-By': 'QF/1.1' } \u516c\u5171\u8fd4\u56de\u53c2\u6570\u5982\u4e0b\uff1a \u53c2\u6570\u540d\u79f0 \u8bf4\u660e respcd Data\u5916\u6570\u636e\u53c2\u6570\u8fd4\u56de0000\u4e3a\u4e0b\u5355\u6210\u529f\uff1b \u6ce8\uff1adata\u5185\u6570\u636e\u53c2\u6570respcd\u8fd4\u56de0000\u4e3a\u6536\u6b3e\u6210\u529f\uff0c\u5176\u4ed6\u7ed3\u679c\uff081143\uff0c1145\u9664\u5916\uff09\u5747\u4e3a\u5931\u8d25\uff0c\u5176\u4e2d\u8fd4\u56de1143,1145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\u3002\u82e5\u8ba2\u5355\u957f\u65f6\u95f4\u4e3a1143\u30011145\u72b6\u6001\uff0c\u5efa\u8bae \u8ba2\u5355\u5173\u95ed \u540e\u91cd\u65b0\u53d1\u8d77\u3002 Resperr \u4fe1\u606f\u63cf\u8ff0 pay_type \u652f\u4ed8\u7c7b\u578b respmsg \u8c03\u8bd5\u4fe1\u606f \u8fd4\u56de\u5185\u5bb9\u9a8c\u7b7e\u5bf9\u6bd4SIGN\uff1a MD5\u5185\u5bb9\u4e3a\uff1a { pay_type : 800108 , sysdtm : 2018-01-12 19:31:16 , cardcd : 2088802362210279 , txdtm : 2018-01-12 19:31:22 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 130145934788787530052 , syssn : 20180112000100020001662134 , respcd : 0000 } 615ED178BA524459976CE40FAB78000F MD5\u7ed3\u679c\uff1a1E2CE7C2A7F8F581C354A857182B7A31 \u5f02\u6b65\u901a\u77e5 # \u6ce8\u610f\uff1a \u5f02\u6b65\u901a\u77e5\u5730\u5740\uff0c\u7531\u6e20\u9053\u63d0\u4f9b\u7ed9\u94b1\u65b9\u6280\u672f\u652f\u6301\u4eba\u5458\u8fdb\u884c\u914d\u7f6e\uff0c\u6bcf\u5957code\u3001key\u53ea\u80fd\u914d\u7f6e\u4e00\u6761\u5f02\u6b65\u901a\u77e5\u5730\u5740\uff0c\u53ef\u4fee\u6539\u3002 \u652f\u4ed8\u6210\u529f\u7684\u8ba2\u5355\uff0c\u4f1a\u8fd4\u56de\u5f02\u6b65\u901a\u77e5\u7ed3\u679c\uff0c\u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u8c03\u7528\u67e5\u8be2\u63a5\u53e3\u67e5\u8be2\uff0c\u5efa\u8bae\u5f02\u6b65\u901a\u77e5\u4e0e\u67e5\u8be2\u63a5\u53e3\u914d\u5408\u4f7f\u7528\u3002\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u6307\u5b9a\u7aef\u53e3\u3002 \u5f02\u6b65\u901a\u77e5\u53d1\u9001\u89c4\u5219\uff1a \u2460\u5f02\u6b65\u901a\u77e5\u7684\u5730\u5740\u63d0\u4f9b\u7ed9\u94b1\u65b9\u6280\u672f\u652f\u6301\uff0c\u5728\u540e\u53f0\u7cfb\u7edf\u8bbe\u5b9a\u597d\u3002 \u2461\u4ea4\u6613\u6210\u529f\u540e\uff0c\u94b1\u65b9\u4f1a\u4ee5json\u683c\u5f0fPOST\u5230\u8bbe\u5b9a\u597d\u7684\u5f02\u6b65\u901a\u77e5\u5730\u5740\u4e0a\u3002 \u2462\u5f00\u53d1\u8005\uff0c\u6536\u5230\u5f02\u6b65\u901a\u77e5\u540e\uff0c\u9a8c\u8bc1\u7b7e\u540d\u901a\u8fc7\u540e\uff0c\u9700\u8981\u7ed9\u94b1\u65b9\u8fd4\u56deSUCCESS\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5df2\u5904\u7406\u3002 \u2463\u82e5\u5f00\u53d1\u8005\u7ed9\u94b1\u65b9\u8fd4\u56de\u5176\u4ed6\u7684\u6570\u636e\uff0c\u6216\u8005\u6ca1\u6709\u4efb\u4f55\u8fd4\u56de\uff0c\u90a3\u4e48\u94b1\u65b9\u4f1a\u4ee5\u4e00\u5b9a\u7684\u7b56\u7565\u518d\u6b21\u53d1\u9001\u5f02\u6b65\u901a\u77e5\uff0c\u65f6\u95f4\u95f4\u9694\u662f2m\u300110m\u300110m\u300160m\u30012h\u30016h\u300115h\uff0c\u671f\u95f4\u4efb\u4f55\u4e00\u6b21\u6536\u5230SUCCESS\uff0c\u90fd\u5c06\u4e0d\u7ee7\u7eed\u540e\u7eed\u7684\u901a\u77e5\u3002 \u5f02\u6b65\u901a\u77e5\u7b7e\u540d\u7b97\u6cd5\u9a8c\u8bc1\uff1a \u6b65\u9aa41\uff1a \u4ecehttp\u5934\u90e8X-QF-SIGN\u5b57\u6bb5\u53d6\u5230\u7b7e\u540d\u3002 \u6b65\u9aa42\uff1a http\u5e94\u7b54\u6240\u6709\u539f\u59cb\u6b63\u6587\u5185\u5bb9body\u90e8\u5206\u548cKey\u62fc\u63a5\u8d77\u6765\uff0c\u5f97\u5230\u5f85\u9a8c\u8bc1\u7684\u5b57\u7b26\u4e32\u3002 \u6b65\u9aa43\uff1a \u5c06\u5f85\u9a8c\u8bc1\u7684\u5b57\u7b26\u4e32\uff0c\u505aMD5\u8fd0\u7b97\u3002 \u6b65\u9aa44\uff1a \u8fd0\u7b97\u7ed3\u679c\u4e0eX-QF-SIGN\u7b7e\u540d\u5bf9\u6bd4\uff0c\u9a8c\u8bc1\u662f\u5426\u4e00\u81f4\uff0c\u4e00\u81f4\u5219\u9a8c\u8bc1\u6210\u529f\uff0c\u8fd4\u56de SUCCESS \u9a8c\u8bc1\u7b7e\u540dpython\u793a\u4f8b\uff1a import hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u5e94\u7b54\u7b7e\u540d data\u4e3a\u8fd4\u56de\u7684\u6574\u4e2a\u5185\u5bb9\u6570\u636e\u5b57\u7b26\u4e32 def make_resp_sign(data, key): \u200b unsign_str = unicode_to_utf8(data) + unicode_to_utf8(key) \u200b s = hashlib.md5(unsign_str).hexdigest() \u200b return s.upper() \u5f02\u6b65\u901a\u77e5\u8fd4\u56de\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d\u79f0 \u8bf4\u660e notify_type \u901a\u77e5\u7c7b\u578b payment\uff1a\u652f\u4ed8\uff1b refund\uff1a\u9000\u6b3e\uff1b close\uff1a\u5173\u95ed\uff1b syssn \u4ea4\u6613\u6d41\u6c34\u53f7\uff1b out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u8ba2\u5355\u53f7\uff1b pay_type \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4\uff1b txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respcd \u4ea4\u6613\u8fd4\u56de\u7801\uff0c\u9ed8\u8ba4\u8fd4\u56de\u6240\u6709\u8ba2\u5355\u72b6\u6001\u7684\u8fd4\u56de\u7801\uff1b sysdtm \u7cfb\u7edf\u4ea4\u6613\u65f6\u95f4 paydtm \u7528\u6237\u652f\u4ed8\u65f6\u95f4 cancel \u64a4\u9500/\u9000\u6b3e\u6807\u8bb0 \u6b63\u5e38\u4ea4\u6613\uff1a0\uff1b\u5df2\u64a4\u9500\uff1a2\uff1b\u5df2\u9000\u8d27\uff1a3\uff1b cardcd \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u7684\u7528\u6237openid \u53c2\u6570\uff1b goods_name \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a\uff1b status \u4ea4\u6613\u72b6\u6001\u7801\uff1a1\uff1a\u652f\u4ed8\u6210\u529f\uff1b txcurrcd \u5e01\u79cd\uff1a\u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b mchid \u5b50\u5546\u6237\u53f7\uff1b \u5f02\u6b65\u901a\u77e5\u8fd4\u56de\u793a\u4f8b\uff1a { status : 1 , sysdtm : 2017-12-28 13:41:47 , paydtm : 2017-12-28 13:42:20 , goods_name : , txcurrcd : CNY , mchid : XXxxxx , cancel : 0 , pay_type : 800207 , cardcd : oo3Lss1m9-eHSEyY2OGKzxFaRflY , txdtm : 2017-12-28 13:41:47 , txamt : 200 , out_trade_no : BO201712280117290001 , syssn : 20171228000300020044178249 , respcd : 0000 , goods_info : , notify_type : payment }","title":"\u5f00\u53d1\u6307\u5357"},{"location":"developer/#_1","text":"","title":"\u5f00\u53d1\u6307\u5357"},{"location":"developer/#_2","text":"\u94b1\u53f0\u4ea4\u6613\u4e91\u5bf9\u5916\u670d\u52a1\u6709\u4e24\u4e2a\u73af\u5883: \u6d4b\u8bd5\u73af\u5883\uff1a \u7528\u4e8e\u6d4b\u8bd5\u3001\u5bf9\u63a5\u8054\u8c03\u6d4b\u8bd5code\u3001key\u3002 \u6b63\u5f0f\u73af\u5883\uff1a \u5546\u7528\u670d\u52a1\uff0c\u66f4\u9ad8\u7a33\u5b9a\u6027\u3002 l \u6d4b\u8bd5code\u3001key\u8d44\u91d1\u4e0d\u8fdb\u884c\u6e05\u7ed3\u7b97\uff0c\u8bf7\u4f7f\u7528\u5c0f\u989d\u6d4b\u8bd5\u3002 l mchid\u5b50\u5546\u6237\u53f7\uff0c\u6e20\u9053\u7ba1\u7406\u540e\u53f0\u67e5\u770b\uff0c\u8be5\u540e\u53f0\u7b49\u7533\u8bf7\u6b63\u5f0fcode\u3001key\u540e\u63d0\u4f9b\u3002 l code\u3001key \u4ee5\u6e20\u9053\u4e3a\u57fa\u7840\u914d\u7f6e\uff0c\u6e20\u9053\u4e0b\u5b50\u5546\u6237\u53ef\u7edf\u4e00\u4f7f\u7528\u4e00\u5957code\u3001key\u3002 \u63a5\u53e3\u8bf7\u6c42\u57df\u540d\uff1a \u6d4b\u8bd5\u73af\u5883\uff1ahttps://openapi-test.qfpay.com \u6b63\u5f0f\u73af\u5883\uff1ahttps://openapi.qfpay.com \u652f\u6301\u63a5\u53e3\u5217\u8868 \uff1a API\u63a5\u53e3\u8bf4\u660e\uff1a \u63a5\u53e3\u5730\u5740\uff1a \u63a5\u53e3\u63cf\u8ff0 \u8bf7\u6c42\u65b9\u5f0f\u3001\u8bf4\u660e \u8ba2\u5355\u652f\u4ed8 /trade/v1/payment \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3\uff0c\u7528\u4e8e\u4e0b\u5355\u6216\u652f\u4ed8\u53d1\u8d77 Http\u7684Post\u6216\u8005Get\u65b9\u5f0f\uff08form\u8868\u5355\u63d0\u4ea4\uff09 \u8ba2\u5355\u67e5\u8be2 /trade/v1/query \u67e5\u8be2\u8ba2\u5355\u4fe1\u606f\uff0c\u7528\u4e8e\u5df2\u6210\u529f\u4e0b\u5355\u7684\u8ba2\u5355 Http\u7684Post\u6216\u8005Get\u65b9\u5f0f \u8ba2\u5355\u9000\u6b3e /trade/v1/refund \u7528\u4e8e\u5df2\u652f\u4ed8\u8ba2\u5355\u9000\u6b3e Http\u7684Post\u65b9\u5f0f \u8ba2\u5355\u5173\u95ed /tarde/v1/close \u5173\u95ed\u4ea4\u6613 Http\u7684Post\u65b9\u5f0f \u7f16\u7801\u8bf4\u660e \u65e0\u7279\u6b8a\u8bf4\u660e\uff0c\u6240\u6709\u63a5\u53e3\u53c2\u6570\u8fd4\u56de\u4f7f\u7528UTF-8\u7f16\u7801\u3002","title":"\u73af\u5883\u8bf4\u660e"},{"location":"developer/#_3","text":"\u65e0\u7279\u6b8a\u8bf4\u660e\uff0c\u6240\u6709\u8bf7\u6c42\u63a5\u53e3\u7b7e\u540d\u5747\u4f7f\u7528\u8be5\u7b7e\u540d\u65b9\u5f0f\u3002 \u8bf7\u6c42\u63a5\u53e3\u53c2\u6570\u7b7e\u540d\u65b9\u5f0f\uff1a \u6b65\u9aa41\uff1a \u5c06\u6240\u6709\u53c2\u6570\u6309\u7167\u53c2\u6570\u540d\u5347\u5e8f\u3002 \u53c2\u6570\u5217\u8868\u4e3a\uff1aabc=value1 bcd=value2 bad=value3 \u6392\u5e8f\u7ed3\u679c\u4e3a\uff1aabc=value1 bad=value3 bcd=value2 \u6b65\u9aa42\uff1a \u5c06\u6240\u6709\u53c2\u6570\u7528 \u8fde\u63a5\uff0c\u5f97\u5230\u5f85\u7b7e\u540d\u5b57\u7b26\u4e32\u3002 abc=value1 bad=value3 bcd=value2 \u6b65\u9aa43\uff1a \u5c06\u5f85\u7b7e\u540d\u7684\u5b57\u7b26\u4e32\u4e0e\u5f00\u53d1\u8005\u7684Key\u62fc\u63a5\u3002 abc=value1 bad=value3 bcd=value2 Key \u6b65\u9aa44\uff1a \u5c06\u62fc\u63a5\u8d77\u6765\u7684\u5b57\u7b26\u4e32\u505aMD5\u8fd0\u7b97\u3002 MD5(abc=value1 bad=value3 bcd=value2 Key ) \u6b65\u9aa45\uff1a \u8bf7\u6c42\u63a5\u53e3\u4f7f\u7528\u7b7e\u540d\u3002 \u5c06\u7b7e\u540d\u7ed3\u679c\u5b58\u5230http\u5934\u90e8\u7684X-QF-SIGN\u5b57\u6bb5\u91cc \u6c42\u7b7e\u540dpython\u793a\u4f8b\uff1a import hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e\u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper()","title":"\u7b7e\u540d\u6821\u9a8c\u7b97\u6cd5"},{"location":"developer/#_4","text":"\u8bf7\u6c42API\u63a5\u53e3\uff0chttp\u5934\u90e8\u9700\u8981\u8bbe\u7f6e\u7684\u53c2\u6570\u5982\u4e0b\uff1a \u5b57\u6bb5\u540d\u79f0 \u662f\u5426\u5fc5\u4f20 \u63cf\u8ff0 X-QF-APPCODE \u662f \u5206\u914d\u7ed9\u5f00\u53d1\u8005\u7684app_code\uff0c\u5f00\u53d1\u8005\u7684\u552f\u4e00\u6807\u793a\uff0c\u8be5\u53c2\u6570\u9700\u8981\u94b1\u65b9\u5206\u914d\u7ed9\u5f00\u53d1\u8005\uff01 X-QF-SIGN \u662f \u6309\u7167\u7b7e\u540d\u7b97\u6cd5\u751f\u6210\u7684\u7b7e\u540d","title":"\u8bf7\u6c42\u8bf4\u660e"},{"location":"developer/#_5","text":"\u8bf4\u660e\uff1a\u8bf7\u6c42\u63a5\u53e3\u6210\u529f\u540e\uff0c\u63a5\u53e3\u8fd4\u56deJSON\u683c\u5f0f\u5185\u5bb9\uff0c\u83b7\u53d6\u63a5\u53e3\u8fd4\u56de\u4fe1\u606f\uff0c\u8fdb\u884c\u8fd4\u56de\u4fe1\u606f\u9a8c\u7b7e\u3002 \u8fd4\u56dehttp\u5934\u90e8\u4f1a\u8bbe\u7f6e\u7684\u53c2\u6570\u5982\u4e0b\uff1a \u5b57\u6bb5\u540d\u79f0 \u63cf\u8ff0 X-QF-SIGN \u83b7\u53d6http\u5934\u90e8\u7b7e\u540dSIGN\u5185\u5bb9\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u7528\u539f\u59cb\u8fd4\u56de\u5185\u5bb9\u8fde\u63a5key\uff0c\u8fdb\u884cMD5\uff0c\u5373MD5(body+key)\u83b7\u5f97\u7b7e\u540d\uff0c\u4e0e\u8be5SIGN\u5185\u5bb9\u5bf9\u6bd4\u662f\u5426\u4e00\u81f4\uff1b \u5934\u90e8SIGN\u793a\u4f8b\uff1a { 'Server': 'nginx', 'Date': 'Fri, 12 Jan 2018 11:31:18 GMT', 'Content-Type': 'application/json; charset=UTF-8', 'Content-Length': '302', 'Connection': 'keep-alive', 'X-QF-SIGN': '1E2CE7C2A7F8F581C354A857182B7A31', 'X-Powered-By': 'QF/1.1' } \u516c\u5171\u8fd4\u56de\u53c2\u6570\u5982\u4e0b\uff1a \u53c2\u6570\u540d\u79f0 \u8bf4\u660e respcd Data\u5916\u6570\u636e\u53c2\u6570\u8fd4\u56de0000\u4e3a\u4e0b\u5355\u6210\u529f\uff1b \u6ce8\uff1adata\u5185\u6570\u636e\u53c2\u6570respcd\u8fd4\u56de0000\u4e3a\u6536\u6b3e\u6210\u529f\uff0c\u5176\u4ed6\u7ed3\u679c\uff081143\uff0c1145\u9664\u5916\uff09\u5747\u4e3a\u5931\u8d25\uff0c\u5176\u4e2d\u8fd4\u56de1143,1145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\u3002\u82e5\u8ba2\u5355\u957f\u65f6\u95f4\u4e3a1143\u30011145\u72b6\u6001\uff0c\u5efa\u8bae \u8ba2\u5355\u5173\u95ed \u540e\u91cd\u65b0\u53d1\u8d77\u3002 Resperr \u4fe1\u606f\u63cf\u8ff0 pay_type \u652f\u4ed8\u7c7b\u578b respmsg \u8c03\u8bd5\u4fe1\u606f \u8fd4\u56de\u5185\u5bb9\u9a8c\u7b7e\u5bf9\u6bd4SIGN\uff1a MD5\u5185\u5bb9\u4e3a\uff1a { pay_type : 800108 , sysdtm : 2018-01-12 19:31:16 , cardcd : 2088802362210279 , txdtm : 2018-01-12 19:31:22 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 130145934788787530052 , syssn : 20180112000100020001662134 , respcd : 0000 } 615ED178BA524459976CE40FAB78000F MD5\u7ed3\u679c\uff1a1E2CE7C2A7F8F581C354A857182B7A31","title":"\u5e94\u7b54\u9a8c\u7b7e"},{"location":"developer/#_6","text":"\u6ce8\u610f\uff1a \u5f02\u6b65\u901a\u77e5\u5730\u5740\uff0c\u7531\u6e20\u9053\u63d0\u4f9b\u7ed9\u94b1\u65b9\u6280\u672f\u652f\u6301\u4eba\u5458\u8fdb\u884c\u914d\u7f6e\uff0c\u6bcf\u5957code\u3001key\u53ea\u80fd\u914d\u7f6e\u4e00\u6761\u5f02\u6b65\u901a\u77e5\u5730\u5740\uff0c\u53ef\u4fee\u6539\u3002 \u652f\u4ed8\u6210\u529f\u7684\u8ba2\u5355\uff0c\u4f1a\u8fd4\u56de\u5f02\u6b65\u901a\u77e5\u7ed3\u679c\uff0c\u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u8c03\u7528\u67e5\u8be2\u63a5\u53e3\u67e5\u8be2\uff0c\u5efa\u8bae\u5f02\u6b65\u901a\u77e5\u4e0e\u67e5\u8be2\u63a5\u53e3\u914d\u5408\u4f7f\u7528\u3002\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u6307\u5b9a\u7aef\u53e3\u3002 \u5f02\u6b65\u901a\u77e5\u53d1\u9001\u89c4\u5219\uff1a \u2460\u5f02\u6b65\u901a\u77e5\u7684\u5730\u5740\u63d0\u4f9b\u7ed9\u94b1\u65b9\u6280\u672f\u652f\u6301\uff0c\u5728\u540e\u53f0\u7cfb\u7edf\u8bbe\u5b9a\u597d\u3002 \u2461\u4ea4\u6613\u6210\u529f\u540e\uff0c\u94b1\u65b9\u4f1a\u4ee5json\u683c\u5f0fPOST\u5230\u8bbe\u5b9a\u597d\u7684\u5f02\u6b65\u901a\u77e5\u5730\u5740\u4e0a\u3002 \u2462\u5f00\u53d1\u8005\uff0c\u6536\u5230\u5f02\u6b65\u901a\u77e5\u540e\uff0c\u9a8c\u8bc1\u7b7e\u540d\u901a\u8fc7\u540e\uff0c\u9700\u8981\u7ed9\u94b1\u65b9\u8fd4\u56deSUCCESS\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5df2\u5904\u7406\u3002 \u2463\u82e5\u5f00\u53d1\u8005\u7ed9\u94b1\u65b9\u8fd4\u56de\u5176\u4ed6\u7684\u6570\u636e\uff0c\u6216\u8005\u6ca1\u6709\u4efb\u4f55\u8fd4\u56de\uff0c\u90a3\u4e48\u94b1\u65b9\u4f1a\u4ee5\u4e00\u5b9a\u7684\u7b56\u7565\u518d\u6b21\u53d1\u9001\u5f02\u6b65\u901a\u77e5\uff0c\u65f6\u95f4\u95f4\u9694\u662f2m\u300110m\u300110m\u300160m\u30012h\u30016h\u300115h\uff0c\u671f\u95f4\u4efb\u4f55\u4e00\u6b21\u6536\u5230SUCCESS\uff0c\u90fd\u5c06\u4e0d\u7ee7\u7eed\u540e\u7eed\u7684\u901a\u77e5\u3002 \u5f02\u6b65\u901a\u77e5\u7b7e\u540d\u7b97\u6cd5\u9a8c\u8bc1\uff1a \u6b65\u9aa41\uff1a \u4ecehttp\u5934\u90e8X-QF-SIGN\u5b57\u6bb5\u53d6\u5230\u7b7e\u540d\u3002 \u6b65\u9aa42\uff1a http\u5e94\u7b54\u6240\u6709\u539f\u59cb\u6b63\u6587\u5185\u5bb9body\u90e8\u5206\u548cKey\u62fc\u63a5\u8d77\u6765\uff0c\u5f97\u5230\u5f85\u9a8c\u8bc1\u7684\u5b57\u7b26\u4e32\u3002 \u6b65\u9aa43\uff1a \u5c06\u5f85\u9a8c\u8bc1\u7684\u5b57\u7b26\u4e32\uff0c\u505aMD5\u8fd0\u7b97\u3002 \u6b65\u9aa44\uff1a \u8fd0\u7b97\u7ed3\u679c\u4e0eX-QF-SIGN\u7b7e\u540d\u5bf9\u6bd4\uff0c\u9a8c\u8bc1\u662f\u5426\u4e00\u81f4\uff0c\u4e00\u81f4\u5219\u9a8c\u8bc1\u6210\u529f\uff0c\u8fd4\u56de SUCCESS \u9a8c\u8bc1\u7b7e\u540dpython\u793a\u4f8b\uff1a import hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u5e94\u7b54\u7b7e\u540d data\u4e3a\u8fd4\u56de\u7684\u6574\u4e2a\u5185\u5bb9\u6570\u636e\u5b57\u7b26\u4e32 def make_resp_sign(data, key): \u200b unsign_str = unicode_to_utf8(data) + unicode_to_utf8(key) \u200b s = hashlib.md5(unsign_str).hexdigest() \u200b return s.upper() \u5f02\u6b65\u901a\u77e5\u8fd4\u56de\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d\u79f0 \u8bf4\u660e notify_type \u901a\u77e5\u7c7b\u578b payment\uff1a\u652f\u4ed8\uff1b refund\uff1a\u9000\u6b3e\uff1b close\uff1a\u5173\u95ed\uff1b syssn \u4ea4\u6613\u6d41\u6c34\u53f7\uff1b out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5b9a\u4e49\u8ba2\u5355\u53f7\uff1b pay_type \u652f\u4ed8\u7c7b\u578b \u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u53cd\u626b:800108\uff1b\u652f\u4ed8\u5b9d\u670d\u52a1\u7a97\uff1a800107\uff1b\u5fae\u4fe1\u626b\u7801:800201\uff1b \u5fae\u4fe1\u5237\u5361:800208\uff1b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\uff1b txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4\uff1b txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respcd \u4ea4\u6613\u8fd4\u56de\u7801\uff0c\u9ed8\u8ba4\u8fd4\u56de\u6240\u6709\u8ba2\u5355\u72b6\u6001\u7684\u8fd4\u56de\u7801\uff1b sysdtm \u7cfb\u7edf\u4ea4\u6613\u65f6\u95f4 paydtm \u7528\u6237\u652f\u4ed8\u65f6\u95f4 cancel \u64a4\u9500/\u9000\u6b3e\u6807\u8bb0 \u6b63\u5e38\u4ea4\u6613\uff1a0\uff1b\u5df2\u64a4\u9500\uff1a2\uff1b\u5df2\u9000\u8d27\uff1a3\uff1b cardcd \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u7684\u7528\u6237openid \u53c2\u6570\uff1b goods_name \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a\uff1b status \u4ea4\u6613\u72b6\u6001\u7801\uff1a1\uff1a\u652f\u4ed8\u6210\u529f\uff1b txcurrcd \u5e01\u79cd\uff1a\u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b mchid \u5b50\u5546\u6237\u53f7\uff1b \u5f02\u6b65\u901a\u77e5\u8fd4\u56de\u793a\u4f8b\uff1a { status : 1 , sysdtm : 2017-12-28 13:41:47 , paydtm : 2017-12-28 13:42:20 , goods_name : , txcurrcd : CNY , mchid : XXxxxx , cancel : 0 , pay_type : 800207 , cardcd : oo3Lss1m9-eHSEyY2OGKzxFaRflY , txdtm : 2017-12-28 13:41:47 , txamt : 200 , out_trade_no : BO201712280117290001 , syssn : 20171228000300020044178249 , respcd : 0000 , goods_info : , notify_type : payment }","title":"\u5f02\u6b65\u901a\u77e5"},{"location":"scancode/","text":"\u626b\u7801\u652f\u4ed8\uff08\u542b\u652f\u4ed8\u5b9dwap\uff09 # \u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u652f\u6301\u660e\u786e\u7528\u6237\u7684\u652f\u4ed8\u91d1\u989d\u4e0e\u652f\u4ed8\u65b9\u5f0f\uff08\u5fae\u4fe1\u6216\u652f\u4ed8\u5b9d\uff09\u540e\uff0c\u7cfb\u7edf\u751f\u6210\u5bf9\u5e94\u4e8c\u7ef4\u7801\uff0c\u7528\u6237\u626b\u63cf\u8be5\u56fa\u5b9a\u91d1\u989d\u7684\u4e8c\u7ef4\u7801\u8fdb\u884c\u652f\u4ed8\uff0c\u4e8c\u7ef4\u7801\u4ec5\u53ef\u4f7f\u7528\u652f\u4ed8\u4e00\u6b21\uff0c\u65f6\u6548\u4e00\u822c\u4e0d\u8d8530 \u5206\u949f\uff0c\u8fc7\u671f\u4f5c\u5e9f\u3002 \u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3 # \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u626b\u7801:800201\uff1b\u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u9999\u6e2fWap\u652f\u4ed8: 801512; \u652f\u4ed8\u5b9d\u9999\u6e2f\u626b\u7801:801501; \u652f\u4ed8\u5b9d\u6d77\u5916Wap\u652f\u4ed8\uff1a801107;\u652f\u4ed8\u5b9d\u6d77\u5916\u626b\u7801:801101; LINEPAY\uff1a801307\uff1bLINEPAY \u7ebf\u4e0a\u9884\u652f\u4ed8\uff1a801301 \u94f6\u8054\u4e91\u95ea\u4ed8\uff1a800701\uff1bNETSPAY\u626b\u7801: 801701 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS goods_name \u662f \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 pay_tag \u5426 \u672c\u53c2\u6570\u4e3a\u652f\u6301\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\u6807\u8bb0\uff0c\u8d70AlipayHK\u652f\u4ed8\u901a\u9053\u7684\uff0c\u6b64\u53c2\u6570\u4e3a\u5fc5\u586b\u9879\u3002\u503c\u4e3aALIPAYHK\u6216ALIPYCN\uff0cALIPAYHK\u8868\u793a\u652f\u6301\u652f\u4ed8\u5b9d\u9999\u6e2f\u94b1\u5305\u652f\u4ed8\uff0cALIPYCN\u8868\u793a\u652f\u4ed8\u5b9d\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\uff0c\u9ed8\u8ba4\u503c\u4e3aALIPAYHK\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id\u957f\u5ea6\u4e0d\u8d85\u8fc740\u5b57\u7b26 python\u8bf7\u6c42\u793a\u4f8b\uff1a #!/usr/bin/env python #coding=utf8 import urllib, urllib2, hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e \u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper() txamt = '1' txcurrcd = 'CNY' pay_type = '800201' out_trade_no = '145399626053599943' txdtm = '2016-04-11 17:51:00' goods_name = '\u94b1\u65b9\u6d4b\u8bd5' limit_pay = 'no_credit' udid = '1880105' key = '\u94b1\u65b9\u5206\u914d\u7684app_key' data ={'txamt': txamt, 'txcurrcd': txcurrcd, 'pay_type': pay_type, 'out_trade_no': out_trade_no, 'txdtm': txdtm, 'goods_name':goods_name,'limit_pay':limit_pay,'udid':udid} req = urllib2.Request('https://openapi-test.qfpay.com/trade/v1/payment',urllib.urlencode(data)) req.add_header('X-QF-APPCODE', '\u94b1\u65b9\u5206\u914d\u7684app_code') req.add_header('X-QF-SIGN', make_req_sign(data, key)) resp = urllib2.urlopen(req) print resp.read() \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u626b\u7801:800201\uff1b\u652f\u4ed8\u5b9d\u626b\u7801:800101 sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-MM HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff1b syssn \u94b1\u65b9\u8ba2\u5355\u53f7\uff1b qrcode \u4e0b\u5355\u6210\u529f\u540e\u8fd4\u56de\uff0c\u9700\u5546\u6237\u81ea\u884c\u8fdb\u884c\u4e8c\u7ef4\u7801\u8f6c\u6362\uff1b respcd \u8fd4\u56de\u78010000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff0c \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\uff1b \u6ce8\uff1a\u8be5\u8bf7\u6c42\u7ed3\u679c\u4e3a\u4e0b\u5355\u7ed3\u679c\uff0c\u6839\u636e\u8fd4\u56de\u53c2\u6570arcode \u5546\u6237\u81ea\u884c\u8f6c\u6362\u4e8c\u7ef4\u7801\uff0c\u7528\u6237\u626b\u7801\u4ed8\u6b3e\uff1b \u5e94\u7b54\u793a\u4f8b\uff1a { pay_type : 800201 , sysdtm : 2018-01-12 17:38:50 , cardcd : , txdtm : 2018-01-12 17:38:56 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 13014597457448787530052 , syssn : 20180112000100020001659801 , qrcode : weixin://wxpay/bizpayurl?pr=hBvNxhc , respcd : 0000 } \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3\u3002","title":"\u626b\u7801\u652f\u4ed8(\u542b\u652f\u4ed8\u5b9dwap)"},{"location":"scancode/#wap","text":"\u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u652f\u6301\u660e\u786e\u7528\u6237\u7684\u652f\u4ed8\u91d1\u989d\u4e0e\u652f\u4ed8\u65b9\u5f0f\uff08\u5fae\u4fe1\u6216\u652f\u4ed8\u5b9d\uff09\u540e\uff0c\u7cfb\u7edf\u751f\u6210\u5bf9\u5e94\u4e8c\u7ef4\u7801\uff0c\u7528\u6237\u626b\u63cf\u8be5\u56fa\u5b9a\u91d1\u989d\u7684\u4e8c\u7ef4\u7801\u8fdb\u884c\u652f\u4ed8\uff0c\u4e8c\u7ef4\u7801\u4ec5\u53ef\u4f7f\u7528\u652f\u4ed8\u4e00\u6b21\uff0c\u65f6\u6548\u4e00\u822c\u4e0d\u8d8530 \u5206\u949f\uff0c\u8fc7\u671f\u4f5c\u5e9f\u3002","title":"\u626b\u7801\u652f\u4ed8\uff08\u542b\u652f\u4ed8\u5b9dwap\uff09"},{"location":"scancode/#_1","text":"\u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u626b\u7801:800201\uff1b\u652f\u4ed8\u5b9d\u626b\u7801:800101\uff1b \u652f\u4ed8\u5b9d\u9999\u6e2fWap\u652f\u4ed8: 801512; \u652f\u4ed8\u5b9d\u9999\u6e2f\u626b\u7801:801501; \u652f\u4ed8\u5b9d\u6d77\u5916Wap\u652f\u4ed8\uff1a801107;\u652f\u4ed8\u5b9d\u6d77\u5916\u626b\u7801:801101; LINEPAY\uff1a801307\uff1bLINEPAY \u7ebf\u4e0a\u9884\u652f\u4ed8\uff1a801301 \u94f6\u8054\u4e91\u95ea\u4ed8\uff1a800701\uff1bNETSPAY\u626b\u7801: 801701 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS goods_name \u662f \u5546\u54c1\u540d\u79f0\u6216\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 pay_tag \u5426 \u672c\u53c2\u6570\u4e3a\u652f\u6301\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\u6807\u8bb0\uff0c\u8d70AlipayHK\u652f\u4ed8\u901a\u9053\u7684\uff0c\u6b64\u53c2\u6570\u4e3a\u5fc5\u586b\u9879\u3002\u503c\u4e3aALIPAYHK\u6216ALIPYCN\uff0cALIPAYHK\u8868\u793a\u652f\u6301\u652f\u4ed8\u5b9d\u9999\u6e2f\u94b1\u5305\u652f\u4ed8\uff0cALIPYCN\u8868\u793a\u652f\u4ed8\u5b9d\u672c\u5730\u8de8\u5883\u94b1\u5305\u652f\u4ed8\uff0c\u9ed8\u8ba4\u503c\u4e3aALIPAYHK\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id\u957f\u5ea6\u4e0d\u8d85\u8fc740\u5b57\u7b26 python\u8bf7\u6c42\u793a\u4f8b\uff1a #!/usr/bin/env python #coding=utf8 import urllib, urllib2, hashlib unicode_to_utf8 = lambda s: s.encode('utf-8') if isinstance(s, unicode) else s # \u8bf7\u6c42\u7b7e\u540d data\u4e3a\u6570\u636e \u5b57\u5178 def make_req_sign(data, key): keys = data.keys() keys.sort() p = [] for k in keys: k = unicode_to_utf8(k) v = unicode_to_utf8(data[k]) p.append('%s=%s'%(k,v)) unsign_str = ' '.join(p) + unicode_to_utf8(key) s = hashlib.md5(unsign_str).hexdigest() return s.upper() txamt = '1' txcurrcd = 'CNY' pay_type = '800201' out_trade_no = '145399626053599943' txdtm = '2016-04-11 17:51:00' goods_name = '\u94b1\u65b9\u6d4b\u8bd5' limit_pay = 'no_credit' udid = '1880105' key = '\u94b1\u65b9\u5206\u914d\u7684app_key' data ={'txamt': txamt, 'txcurrcd': txcurrcd, 'pay_type': pay_type, 'out_trade_no': out_trade_no, 'txdtm': txdtm, 'goods_name':goods_name,'limit_pay':limit_pay,'udid':udid} req = urllib2.Request('https://openapi-test.qfpay.com/trade/v1/payment',urllib.urlencode(data)) req.add_header('X-QF-APPCODE', '\u94b1\u65b9\u5206\u914d\u7684app_code') req.add_header('X-QF-SIGN', make_req_sign(data, key)) resp = urllib2.urlopen(req) print resp.read() \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u626b\u7801:800201\uff1b\u652f\u4ed8\u5b9d\u626b\u7801:800101 sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-MM HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff1b syssn \u94b1\u65b9\u8ba2\u5355\u53f7\uff1b qrcode \u4e0b\u5355\u6210\u529f\u540e\u8fd4\u56de\uff0c\u9700\u5546\u6237\u81ea\u884c\u8fdb\u884c\u4e8c\u7ef4\u7801\u8f6c\u6362\uff1b respcd \u8fd4\u56de\u78010000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff0c \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\uff1b \u6ce8\uff1a\u8be5\u8bf7\u6c42\u7ed3\u679c\u4e3a\u4e0b\u5355\u7ed3\u679c\uff0c\u6839\u636e\u8fd4\u56de\u53c2\u6570arcode \u5546\u6237\u81ea\u884c\u8f6c\u6362\u4e8c\u7ef4\u7801\uff0c\u7528\u6237\u626b\u7801\u4ed8\u6b3e\uff1b \u5e94\u7b54\u793a\u4f8b\uff1a { pay_type : 800201 , sysdtm : 2018-01-12 17:38:50 , cardcd : , txdtm : 2018-01-12 17:38:56 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 13014597457448787530052 , syssn : 20180112000100020001659801 , qrcode : weixin://wxpay/bizpayurl?pr=hBvNxhc , respcd : 0000 } \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u53e3\u3002","title":"\u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3"},{"location":"wechat-account/","text":"\u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8 # \u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u53ea\u5141\u8bb8\u5728\u5fae\u4fe1\u73af\u5883\u5185\u7684h5\u624b\u673a\u7f51\u9875\u8c03\u8d77\u652f\u4ed8\uff0c\u4e0d\u53ef\u5728\u516c\u4f17\u53f7\u5185\u8c03\u7528\u8be5\u652f\u4ed8\u3002\u82e5\u5546\u6237\u6709\u9700\u6c42\u7528\u6237\u53ef\u4ee5\u5728\u516c\u4f17\u53f7\u5185\u53d1\u8d77\u652f\u4ed8\uff0c\u5546\u6237\u9700\u8fdb\u884c\u5b9e\u540d\uff0c\u5b9e\u540d\u751f\u6548\u540e\u652f\u4ed8\u6d41\u7a0b\u9700\u53c2\u9605\u5b9e\u540d\u516c\u4f17\u53f7\u652f\u4ed8\uff0c\u5b9e\u540d\u540e\u5141\u8bb8\u5546\u6237\u5728\u5b9e\u540d\u7684\u516c\u4f17\u53f7\u5185\u8c03\u7528\u8be5\u652f\u4ed8\uff1b \u83b7\u53d6\u5fae\u4fe1oauth\u7684code # \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /tool/v1/get_weixin_oauth_code \u63cf\u8ff0\u4fe1\u606f \u83b7\u53d6\u5fae\u4fe1oauth\u7684code\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684app_code\u4e0esign\u653e\u5728get\u53c2\u6570\u91cc\u800c\u4e0d\u662fhttp\u5934\u4e2d\u3002\u7528\u6237\u9700\u5728\u5fae\u4fe1\u73af\u5883\u5185\u8bf7\u6c42\u8be5URL\u5730\u5740\u3002 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e app_code \u662f \u5f00\u53d1\u8005\u8bc6\u522b\u7801\uff0c\u7531\u94b1\u65b9\u5206\u914d\u7684app_code\u5b57\u7b26\u4e32\u53c2\u6570\u4fe1\u606f redirect_uri \u662f \u56de\u8c03\u5730\u5740\uff0c\u8bf7\u6c42\u6210\u529f\u540e\uff0c\u4f1a\u91cd\u5b9a\u5411\u5230\u8be5\u5730\u5740\u4e0a\uff0c\u5728\u5730\u5740get\u53c2\u6570\u4e2d\u83b7\u53d6code\u3002 \u8be5\u5730\u5740\u505a\u5907\u6848\uff0c\u4ec5\u5728\u8bf7\u6c42\u65f6\u505aencode\u5904\u7406\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 sign \u662f \u6839\u636e\u7edf\u4e00\u7b7e\u540d\u65b9\u5f0f\u5f97\u5230\u7684\u7b7e\u540d \u8bf7\u6c42\u793a\u4f8b\uff1a https://openapi-test.qfpay.com/tool/v1/get_weixin_oauth_code?app_code=4A7D18AF8496425193E510DEC8E9526F redirect_uri=http://test.qfpay.com/get_code7 mchid=ZKWjSzbb sign=3F4EED65F68FD5FA0C0AE5794A3AB6D9 \u83b7\u53d6openid # \u8bf4\u660e\uff1a\u6bcf\u6b21\u8c03\u7528\u652f\u4ed8\uff0c\u9700\u5b8c\u6574\u8d70\u6d41\u7a0b \u83b7\u53d6\u5fae\u4fe1oauth_code \u548c \u83b7\u53d6openid \u6b65\u9aa4\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /tool/v1/get_weixin_openid \u63cf\u8ff0\u4fe1\u606f \u83b7\u53d6openid\uff0c\u8fd9\u91ccX-QF-APPCODE\u4e0eX-QF-SIGN\u8981\u653e\u5728http\u5934\u4e2d\u3002 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e code \u662f oauth_code\u4e0a\u4e00\u6b65\u83b7\u53d6\u7684code\uff0c\u540c\u4e00code\u4e0d\u53ef\u91cd\u590d\u4f7f\u7528\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d\uff08\u53ef\u8fdb\u5165\u6e20\u9053\u540e\u53f0\u5bf9\u5e94\u5546\u6237\u67e5\u770b\uff09\u3002 \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e openid \u5fae\u4fe1\u7684openid\uff0c\u4e0d\u540c\u7528\u6237\u5bf9\u5e94\u7684openid\u4e0d\u540c\u3002 \u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3 # \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\u3002 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\u4e0b\u5355\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26\u3002 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sub_openid \u662f \u5fae\u4fe1\u7684openid\uff0c\u5728\u4e0a\u4e00\u6b65\u9aa4\u4e2d\u83b7\u53d6\u3002 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207 sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f\u3002 out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\u3002 syssn \u94b1\u65b9\u8ba2\u5355\u53f7\u3002 respcd \u8bf7\u6c42\u4e0b\u5355\u7ed3\u679c\u8fd4\u56de\u7801,0000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\u3002 pay_params \u5524\u8d77\u5fae\u4fe1\u652f\u4ed8\u7684\u53c2\u6570\uff0c\u8be6\u89c1\u4ee5\u4e0b\u793a\u4f8b\u4e2dpay_params \u5e94\u7b54\u793a\u4f8b { pay_type : 800207 , sysdtm : 2018-01-15 10:45:44 , cardcd : , txdtm : 2018-01-15 10:45:43 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 13054541930052 , syssn : 20180115000100020001689938 , respcd : 0000 , pay_params : { package : prepay_id=wx20180115104545871fa226d10608087535 , timeStamp : 1515984345463 , signType : MD5 , paySign : E75ED8747CFB0F00DEDBD97FB8D92E9E , appId : wx290ce4878c94369d , nonceStr : 1515984345463 } } \u5524\u8d77\u5fae\u4fe1\u652f\u4ed8 # \u8fd4\u56de\u53c2\u6570pay_params\u5b57\u6bb5\u5982\u4e0b\uff1a { package : prepay_id=wx20180115104545871fa226d10608087535 , timeStamp : 1515984345463 , signType : MD5 , paySign : E75ED8747CFB0F00DEDBD97FB8D92E9E , appId : wx290ce4878c94369d , nonceStr : 1515984345463 } \u8df3\u8f6c\u5230\u652f\u4ed8\u9875\u9762 \u8bf4\u660e\uff1a\u76f4\u63a5get\u76f8\u5173\u53c2\u6570\u5230\u9875\u9762\uff0c\u8be5\u6b65\u9aa4http\u5934\u90e8\u4e0d\u9700\u8981\u5b9a\u4e49X-QF-APPCODE\u4e0eX-QF-SIGN\u53c2\u6570\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u5730\u5740 https://o2.qfpay.com/q/direct \u63cf\u8ff0\u4fe1\u606f \u83b7\u53d6\u652f\u4ed8\u53c2\u6570\u540eget\u53c2\u6570\u5230\u8be5\u6307\u5b9a\u9875\u9762\u5b8c\u6210\u652f\u4ed8\u3002 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e mchntnm \u662f \u81ea\u5b9a\u4e49\u5546\u6237\u540d\uff0c\u82e5\u4e3a\u6c49\u5b57\u9700urlencode\u8be5\u53c2\u6570 txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 goods_name \u662f \u81ea\u5b9a\u4e49\u5546\u54c1\u540d\u79f0\uff0c\u82e5\u4e3a\u6c49\u5b57\u9700urlencode\u8be5\u53c2\u6570 redirect_url \u662f \u5b8c\u6210\u540e\u8df3\u8f6c\u5730\u5740\uff0c\uff08urlencode\u5904\u7406\u8be5\u53c2\u6570\uff09 package \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 timeStamp \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 signType \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 paySign \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570\uff08urlencode\u5904\u7406\u8be5\u53c2\u6570\uff09 appId \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 nonceStr \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u6307\u5b9a\u7aef\u53e3\u3002 \u5b9e\u540d\u516c\u4f17\u53f7\u652f\u4ed8 # 1\u3001\u82e5\u5546\u6237\u5b8c\u6210\u94b1\u65b9\u5b9e\u540d\u6d41\u7a0b,\u5b9e\u540d\u751f\u6548\u540e\uff0c\u5c06\u5141\u8bb8\u5546\u6237\u5728\u5b9e\u540d\u7684\u516c\u4f17\u53f7\u5185\u8c03\u7528\u8be5\u652f\u4ed8\u65b9\u5f0f\uff0c\u539f\u6709 \u516c\u4f17\u53f7\u652f\u4ed8 \u6d41\u7a0b\u4f1a\u6709\u6539\u53d8\uff0c\u5f00\u53d1\u8005\u9700\u8981\u5411\u5fae\u4fe1\u83b7\u53d6\u5b9e\u540d\u516c\u4f17\u53f7\u7684openid\u53c2\u6570\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u5fae\u4fe1\u6587\u6863\uff0c\u5373\uff1a http://mp.weixin.qq.com/wiki/17/c0f37d5704f0b64713d5d2c37b468d75.html 2\u3001\u7528\u83b7\u53d6\u7684openid\u8bf7\u6c42\u94b1\u65b9\u7684\u8ba2\u5355\u652f\u4ed8\u63a5\u53e3/trade/v1/payment\uff0c\u4e0e\u201c\u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8\u201d\u7684\u201c\u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3\u201d\u6b65\u9aa4\u4e00\u81f4\uff0c\u83b7\u53d6\u8fd4\u56depay_params\u4fe1\u606f 3\u3001\u4e0d\u518d\u5230\u94b1\u65b9\u6307\u5b9a\u9875\u9762\uff08https://o2.qfpay.com/q/direct\uff09\u53d1\u8d77\u6536\u6b3e\uff0c\u800c\u662f\u5230\u5546\u6237\u5b9e\u540d\u7533\u8bf7\u65f6\u7684\u201cJSAPI\u652f\u4ed8\u6388\u6743\u76ee\u5f55\u201d\u4e0b\u9875\u9762\u53d1\u8d77\u6536\u6b3e\uff0c\u5524\u8d77\u5fae\u4fe1\u652f\u4ed8\u3002 \u8be6\u60c5\u8bf7\u53c2\u8003\u5fae\u4fe1\u6587\u6863\uff1a https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7 index=6","title":"\u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8"},{"location":"wechat-account/#_1","text":"\u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u573a\u666f\u53ea\u5141\u8bb8\u5728\u5fae\u4fe1\u73af\u5883\u5185\u7684h5\u624b\u673a\u7f51\u9875\u8c03\u8d77\u652f\u4ed8\uff0c\u4e0d\u53ef\u5728\u516c\u4f17\u53f7\u5185\u8c03\u7528\u8be5\u652f\u4ed8\u3002\u82e5\u5546\u6237\u6709\u9700\u6c42\u7528\u6237\u53ef\u4ee5\u5728\u516c\u4f17\u53f7\u5185\u53d1\u8d77\u652f\u4ed8\uff0c\u5546\u6237\u9700\u8fdb\u884c\u5b9e\u540d\uff0c\u5b9e\u540d\u751f\u6548\u540e\u652f\u4ed8\u6d41\u7a0b\u9700\u53c2\u9605\u5b9e\u540d\u516c\u4f17\u53f7\u652f\u4ed8\uff0c\u5b9e\u540d\u540e\u5141\u8bb8\u5546\u6237\u5728\u5b9e\u540d\u7684\u516c\u4f17\u53f7\u5185\u8c03\u7528\u8be5\u652f\u4ed8\uff1b","title":"\u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8"},{"location":"wechat-account/#oauthcode","text":"\u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /tool/v1/get_weixin_oauth_code \u63cf\u8ff0\u4fe1\u606f \u83b7\u53d6\u5fae\u4fe1oauth\u7684code\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684app_code\u4e0esign\u653e\u5728get\u53c2\u6570\u91cc\u800c\u4e0d\u662fhttp\u5934\u4e2d\u3002\u7528\u6237\u9700\u5728\u5fae\u4fe1\u73af\u5883\u5185\u8bf7\u6c42\u8be5URL\u5730\u5740\u3002 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e app_code \u662f \u5f00\u53d1\u8005\u8bc6\u522b\u7801\uff0c\u7531\u94b1\u65b9\u5206\u914d\u7684app_code\u5b57\u7b26\u4e32\u53c2\u6570\u4fe1\u606f redirect_uri \u662f \u56de\u8c03\u5730\u5740\uff0c\u8bf7\u6c42\u6210\u529f\u540e\uff0c\u4f1a\u91cd\u5b9a\u5411\u5230\u8be5\u5730\u5740\u4e0a\uff0c\u5728\u5730\u5740get\u53c2\u6570\u4e2d\u83b7\u53d6code\u3002 \u8be5\u5730\u5740\u505a\u5907\u6848\uff0c\u4ec5\u5728\u8bf7\u6c42\u65f6\u505aencode\u5904\u7406\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 sign \u662f \u6839\u636e\u7edf\u4e00\u7b7e\u540d\u65b9\u5f0f\u5f97\u5230\u7684\u7b7e\u540d \u8bf7\u6c42\u793a\u4f8b\uff1a https://openapi-test.qfpay.com/tool/v1/get_weixin_oauth_code?app_code=4A7D18AF8496425193E510DEC8E9526F redirect_uri=http://test.qfpay.com/get_code7 mchid=ZKWjSzbb sign=3F4EED65F68FD5FA0C0AE5794A3AB6D9","title":"\u83b7\u53d6\u5fae\u4fe1oauth\u7684code"},{"location":"wechat-account/#openid","text":"\u8bf4\u660e\uff1a\u6bcf\u6b21\u8c03\u7528\u652f\u4ed8\uff0c\u9700\u5b8c\u6574\u8d70\u6d41\u7a0b \u83b7\u53d6\u5fae\u4fe1oauth_code \u548c \u83b7\u53d6openid \u6b65\u9aa4\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Get\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /tool/v1/get_weixin_openid \u63cf\u8ff0\u4fe1\u606f \u83b7\u53d6openid\uff0c\u8fd9\u91ccX-QF-APPCODE\u4e0eX-QF-SIGN\u8981\u653e\u5728http\u5934\u4e2d\u3002 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e code \u662f oauth_code\u4e0a\u4e00\u6b65\u83b7\u53d6\u7684code\uff0c\u540c\u4e00code\u4e0d\u53ef\u91cd\u590d\u4f7f\u7528\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u7edf\u4e00\u5206\u914d\uff08\u53ef\u8fdb\u5165\u6e20\u9053\u540e\u53f0\u5bf9\u5e94\u5546\u6237\u67e5\u770b\uff09\u3002 \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e openid \u5fae\u4fe1\u7684openid\uff0c\u4e0d\u540c\u7528\u6237\u5bf9\u5e94\u7684openid\u4e0d\u540c\u3002","title":"\u83b7\u53d6openid"},{"location":"wechat-account/#_2","text":"\u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207\u3002 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\u4e0b\u5355\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26\u3002 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sub_openid \u662f \u5fae\u4fe1\u7684openid\uff0c\u5728\u4e0a\u4e00\u6b65\u9aa4\u4e2d\u83b7\u53d6\u3002 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u8bf4\u660e pay_type \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8:800207 sysdtm \u7cfb\u7edf\u65f6\u95f4 txdtm \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS resperr \u4fe1\u606f\u63cf\u8ff0 txcurrcd \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY txamt \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 respmsg \u8c03\u8bd5\u4fe1\u606f\u3002 out_trade_no \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\u3002 syssn \u94b1\u65b9\u8ba2\u5355\u53f7\u3002 respcd \u8bf7\u6c42\u4e0b\u5355\u7ed3\u679c\u8fd4\u56de\u7801,0000\u8868\u793a\u4e0b\u5355\u6210\u529f\uff1b 1143\u30011145\u8868\u793a\u4ea4\u6613\u4e2d\uff0c\u9700\u8981\u7ee7\u7eed\u67e5\u8be2\u4ea4\u6613\u7ed3\u679c\uff1b \u5176\u4ed6\u8fd4\u56de\u7801\u8868\u793a\u5931\u8d25\u3002 pay_params \u5524\u8d77\u5fae\u4fe1\u652f\u4ed8\u7684\u53c2\u6570\uff0c\u8be6\u89c1\u4ee5\u4e0b\u793a\u4f8b\u4e2dpay_params \u5e94\u7b54\u793a\u4f8b { pay_type : 800207 , sysdtm : 2018-01-15 10:45:44 , cardcd : , txdtm : 2018-01-15 10:45:43 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 13054541930052 , syssn : 20180115000100020001689938 , respcd : 0000 , pay_params : { package : prepay_id=wx20180115104545871fa226d10608087535 , timeStamp : 1515984345463 , signType : MD5 , paySign : E75ED8747CFB0F00DEDBD97FB8D92E9E , appId : wx290ce4878c94369d , nonceStr : 1515984345463 } }","title":"\u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3"},{"location":"wechat-account/#_3","text":"\u8fd4\u56de\u53c2\u6570pay_params\u5b57\u6bb5\u5982\u4e0b\uff1a { package : prepay_id=wx20180115104545871fa226d10608087535 , timeStamp : 1515984345463 , signType : MD5 , paySign : E75ED8747CFB0F00DEDBD97FB8D92E9E , appId : wx290ce4878c94369d , nonceStr : 1515984345463 } \u8df3\u8f6c\u5230\u652f\u4ed8\u9875\u9762 \u8bf4\u660e\uff1a\u76f4\u63a5get\u76f8\u5173\u53c2\u6570\u5230\u9875\u9762\uff0c\u8be5\u6b65\u9aa4http\u5934\u90e8\u4e0d\u9700\u8981\u5b9a\u4e49X-QF-APPCODE\u4e0eX-QF-SIGN\u53c2\u6570\u3002 \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u5730\u5740 https://o2.qfpay.com/q/direct \u63cf\u8ff0\u4fe1\u606f \u83b7\u53d6\u652f\u4ed8\u53c2\u6570\u540eget\u53c2\u6570\u5230\u8be5\u6307\u5b9a\u9875\u9762\u5b8c\u6210\u652f\u4ed8\u3002 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e mchntnm \u662f \u81ea\u5b9a\u4e49\u5546\u6237\u540d\uff0c\u82e5\u4e3a\u6c49\u5b57\u9700urlencode\u8be5\u53c2\u6570 txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 goods_name \u662f \u81ea\u5b9a\u4e49\u5546\u54c1\u540d\u79f0\uff0c\u82e5\u4e3a\u6c49\u5b57\u9700urlencode\u8be5\u53c2\u6570 redirect_url \u662f \u5b8c\u6210\u540e\u8df3\u8f6c\u5730\u5740\uff0c\uff08urlencode\u5904\u7406\u8be5\u53c2\u6570\uff09 package \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 timeStamp \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 signType \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 paySign \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570\uff08urlencode\u5904\u7406\u8be5\u53c2\u6570\uff09 appId \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 nonceStr \u662f \u8c03\u7528\u652f\u4ed8\u63a5\u53e3\uff0c\u5fae\u4fe1\u8fd4\u56de\u53c2\u6570 \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u6307\u5b9a\u7aef\u53e3\u3002","title":"\u5524\u8d77\u5fae\u4fe1\u652f\u4ed8"},{"location":"wechat-account/#_4","text":"1\u3001\u82e5\u5546\u6237\u5b8c\u6210\u94b1\u65b9\u5b9e\u540d\u6d41\u7a0b,\u5b9e\u540d\u751f\u6548\u540e\uff0c\u5c06\u5141\u8bb8\u5546\u6237\u5728\u5b9e\u540d\u7684\u516c\u4f17\u53f7\u5185\u8c03\u7528\u8be5\u652f\u4ed8\u65b9\u5f0f\uff0c\u539f\u6709 \u516c\u4f17\u53f7\u652f\u4ed8 \u6d41\u7a0b\u4f1a\u6709\u6539\u53d8\uff0c\u5f00\u53d1\u8005\u9700\u8981\u5411\u5fae\u4fe1\u83b7\u53d6\u5b9e\u540d\u516c\u4f17\u53f7\u7684openid\u53c2\u6570\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u5fae\u4fe1\u6587\u6863\uff0c\u5373\uff1a http://mp.weixin.qq.com/wiki/17/c0f37d5704f0b64713d5d2c37b468d75.html 2\u3001\u7528\u83b7\u53d6\u7684openid\u8bf7\u6c42\u94b1\u65b9\u7684\u8ba2\u5355\u652f\u4ed8\u63a5\u53e3/trade/v1/payment\uff0c\u4e0e\u201c\u5fae\u4fe1\u516c\u4f17\u53f7\u652f\u4ed8\u201d\u7684\u201c\u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3\u201d\u6b65\u9aa4\u4e00\u81f4\uff0c\u83b7\u53d6\u8fd4\u56depay_params\u4fe1\u606f 3\u3001\u4e0d\u518d\u5230\u94b1\u65b9\u6307\u5b9a\u9875\u9762\uff08https://o2.qfpay.com/q/direct\uff09\u53d1\u8d77\u6536\u6b3e\uff0c\u800c\u662f\u5230\u5546\u6237\u5b9e\u540d\u7533\u8bf7\u65f6\u7684\u201cJSAPI\u652f\u4ed8\u6388\u6743\u76ee\u5f55\u201d\u4e0b\u9875\u9762\u53d1\u8d77\u6536\u6b3e\uff0c\u5524\u8d77\u5fae\u4fe1\u652f\u4ed8\u3002 \u8be6\u60c5\u8bf7\u53c2\u8003\u5fae\u4fe1\u6587\u6863\uff1a https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7 index=6","title":"\u5b9e\u540d\u516c\u4f17\u53f7\u652f\u4ed8"},{"location":"wechat-mini/","text":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u652f\u4ed8 # \u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u652f\u6301\u573a\u666f\u4e3a\uff0c\u5546\u6237\u5df2\u6709\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\uff0c\u7528\u6237\u5728\u5546\u6237\u7684\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5185\u5524\u8d77\u5fae\u4fe1\u652f\u4ed8\u76f4\u63a5\u8f93\u5165\u5bc6\u7801\u652f\u4ed8 \u5c0f\u7a0b\u5e8f\u5b9e\u540d # \u5b50\u5546\u6237\u4f7f\u7528\u5c0f\u7a0b\u5e8f\u652f\u4ed8\uff0c\u9700\u5148\u8054\u7cfb\u4e1a\u52a1\u4eba\u5458\uff0c\u5b8c\u6210\u94b1\u65b9\u7684\u5c0f\u7a0b\u5e8f\u5b9e\u540d\u6d41\u7a0b\u3002 \u6ce8\uff1a\u5b50\u5546\u6237\u53d1\u8d77\u5c0f\u7a0b\u5e8f\u652f\u4ed8\uff0c\u53ea\u80fd\u4f7f\u7528\u8be5\u5b9e\u540d\u7684\u5b50\u5546\u6237\u8c03\u8d77\u5c0f\u7a0b\u5e8f\u652f\u4ed8\u3002 \u83b7\u53d6openid\u53c2\u6570 # \u5b9e\u540d\u751f\u6548\u540e\uff0c\u81ea\u4e3b\u901a\u8fc7\u5546\u6237\u5b9e\u540d\u7684\u5c0f\u7a0b\u5e8f\u83b7\u53d6openid\u53c2\u6570\uff0c\u5177\u4f53\u83b7\u53d6\u65b9\u5f0f\u53c2\u8003\uff1a https://mp.weixin.qq.com/debug/wxadoc/dev/api/api-login.html?t=20161122 \u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3 # \u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u652f\u4ed8:800213\u3002 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\u4e0b\u5355\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26\u3002 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sub_openid \u662f \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7684openid\uff0c\u5728\u4e0a\u4e00\u6b65\u9aa4\u4e2d\u83b7\u53d6\u3002 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u793a\u4f8b { pay_type : 800213 , sysdtm : 2018-02-01 18:40:18 , cardcd : , txdtm : 2018-02-01 18:40:18 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 20180201184018100000326 , syssn : 20180201000100020001881791 , respcd : 0000 , pay_params : { package : prepay_id=wx201802011840185d43f609cb0985252573 , timeStamp : 1517481618 , signType : MD5 , paySign : 5AB862AFB08B2545C7EE781C15408031 , appId : wx8f888cc1127fe645 , nonceStr : 56d07134614d4f55b18afeca6addd60d } } \u5524\u8d77\u5c0f\u7a0b\u5e8f\u652f\u4ed8 # \u83b7\u53d6\u4ee5\u4e0a\u8fd4\u56de\u53c2\u6570\u540e\uff0c\u8c03\u8d77\u652f\u4ed8\uff0c\u5177\u4f53\u53ef\u53c2\u8003\uff1a https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=7_7 index=5 \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u6307\u5b9a\u7aef\u53e3\u3002","title":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u652f\u4ed8"},{"location":"wechat-mini/#_1","text":"\u573a\u666f\u8bf4\u660e\uff1a\u8be5\u652f\u4ed8\u652f\u6301\u573a\u666f\u4e3a\uff0c\u5546\u6237\u5df2\u6709\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\uff0c\u7528\u6237\u5728\u5546\u6237\u7684\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5185\u5524\u8d77\u5fae\u4fe1\u652f\u4ed8\u76f4\u63a5\u8f93\u5165\u5bc6\u7801\u652f\u4ed8","title":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u652f\u4ed8"},{"location":"wechat-mini/#_2","text":"\u5b50\u5546\u6237\u4f7f\u7528\u5c0f\u7a0b\u5e8f\u652f\u4ed8\uff0c\u9700\u5148\u8054\u7cfb\u4e1a\u52a1\u4eba\u5458\uff0c\u5b8c\u6210\u94b1\u65b9\u7684\u5c0f\u7a0b\u5e8f\u5b9e\u540d\u6d41\u7a0b\u3002 \u6ce8\uff1a\u5b50\u5546\u6237\u53d1\u8d77\u5c0f\u7a0b\u5e8f\u652f\u4ed8\uff0c\u53ea\u80fd\u4f7f\u7528\u8be5\u5b9e\u540d\u7684\u5b50\u5546\u6237\u8c03\u8d77\u5c0f\u7a0b\u5e8f\u652f\u4ed8\u3002","title":"\u5c0f\u7a0b\u5e8f\u5b9e\u540d"},{"location":"wechat-mini/#openid","text":"\u5b9e\u540d\u751f\u6548\u540e\uff0c\u81ea\u4e3b\u901a\u8fc7\u5546\u6237\u5b9e\u540d\u7684\u5c0f\u7a0b\u5e8f\u83b7\u53d6openid\u53c2\u6570\uff0c\u5177\u4f53\u83b7\u53d6\u65b9\u5f0f\u53c2\u8003\uff1a https://mp.weixin.qq.com/debug/wxadoc/dev/api/api-login.html?t=20161122","title":"\u83b7\u53d6openid\u53c2\u6570"},{"location":"wechat-mini/#_3","text":"\u57fa\u672c\u8bf7\u6c42\u4fe1\u606f\uff1a \u8bf7\u6c42\u65b9\u5f0f Http\u7684Post\u65b9\u5f0f \u8bf7\u6c42\u5730\u5740 /trade/v1/payment \u63cf\u8ff0\u4fe1\u606f \u53d1\u8d77\u6d88\u8d39\u4ea4\u6613\u63a5\u53e3 \u8bf7\u6c42\u53c2\u6570\u8bf4\u660e\uff1a \u53c2\u6570\u540d \u662f\u5426\u5fc5\u987b \u8bf4\u660e txamt \u662f \u8ba2\u5355\u652f\u4ed8\u91d1\u989d\uff0c\u5355\u4f4d\u5206, \u5373100=$1 txcurrcd \u662f \u5e01\u79cd \u6e2f\u5e01\uff1aHKD \uff1b\u4eba\u6c11\u5e01\uff1aCNY\uff1b\u65e5\u5143\uff1aJPY\uff1b\u7f8e\u5143\uff1aUSD\uff1b\u8fea\u62c9\u59c6\uff1aAED\uff1b\u6cf0\u94e2\uff1aTHB\uff1b pay_type \u662f \u652f\u4ed8\u7c7b\u578b \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u652f\u4ed8:800213\u3002 out_trade_no \u662f \u5916\u90e8\u8ba2\u5355\u53f7\uff0c\u5f00\u53d1\u8005\u5e73\u53f0\u8ba2\u5355\u53f7\uff0c\u540c\u5b50\u5546\u6237\uff08mchid\uff09\u4e0b\uff0c\u6bcf\u6b21\u6210\u529f\u8c03\u7528\u652f\u4ed8\uff08\u542b\u9000\u6b3e\uff09\u63a5\u53e3\u4e0b\u5355\uff0c\u8be5\u53c2\u6570\u503c\u5747\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\uff0c\u4fdd\u8bc1\u5355\u53f7\u552f\u4e00\uff0c\u957f\u5ea6\u4e0d\u8d85\u8fc7128\u5b57\u7b26\u3002 txdtm \u662f \u8bf7\u6c42\u4ea4\u6613\u65f6\u95f4 \u683c\u5f0f\u4e3a\uff1a\u683c\u5f0f\u4e3a\uff1aYYYY-MM-DD HH:MM:SS sub_openid \u662f \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7684openid\uff0c\u5728\u4e0a\u4e00\u6b65\u9aa4\u4e2d\u83b7\u53d6\u3002 goods_name \u662f \u5546\u54c1\u540d\u79f0\u6807\u793a\uff0c\u5efa\u8bae\u4e0d\u8d85\u8fc720\u5b57\uff0c\u4e0d\u542b\u82f1\u6587\u9017\u53f7\u7b49\u7279\u6b8a\u5b57\u7b26\u3002 mchid \u662f \u5b50\u5546\u6237\u53f7\uff0c\u6807\u8bc6\u5b50\u5546\u6237\u8eab\u4efd\uff0c\u7531\u94b1\u65b9\u5206\u914d\uff08\u6e20\u9053\u7cfb\u7edf\u540e\u53f0\u67e5\u770b\u5bf9\u5e94\u5546\u6237(\u975e\u4e1a\u52a1\u5458)\u5b50\u5546\u6237\u53f7\uff0c\u88ab\u89c6\u4e3a\u5bf9\u5e94\u5546\u6237\u7684\u4ea4\u6613\uff09\u3002 txzone \u5426 \u65f6\u533a\uff0c\u7528\u4e8e\u8bb0\u5f55\u672c\u5730\u4e0b\u5355\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a\u5317\u4eac\u65f6\u95f4+0800 return_url \u5426 \u652f\u4ed8\u6210\u529f\u540e\u7684\u8ba2\u5355\u5f02\u6b65\u56de\u8c03\u5730\u5740\u3002 limit_pay \u5426 \u8be5\u53c2\u6570\u503c\u6307\u5b9a\u4e3ano_credit\uff0c\u5219\u7981\u6b62\u4f7f\u7528\u4fe1\u7528\u5361\u652f\u4ed8 udid \u5426 \u8bbe\u5907\u552f\u4e00id \u5e94\u7b54\u793a\u4f8b { pay_type : 800213 , sysdtm : 2018-02-01 18:40:18 , cardcd : , txdtm : 2018-02-01 18:40:18 , resperr : \\u4ea4\\u6613\\u6210\\u529f , txcurrcd : CNY , txamt : 1 , respmsg : , out_trade_no : 20180201184018100000326 , syssn : 20180201000100020001881791 , respcd : 0000 , pay_params : { package : prepay_id=wx201802011840185d43f609cb0985252573 , timeStamp : 1517481618 , signType : MD5 , paySign : 5AB862AFB08B2545C7EE781C15408031 , appId : wx8f888cc1127fe645 , nonceStr : 56d07134614d4f55b18afeca6addd60d } }","title":"\u8bf7\u6c42\u652f\u4ed8\u63a5\u53e3"},{"location":"wechat-mini/#_4","text":"\u83b7\u53d6\u4ee5\u4e0a\u8fd4\u56de\u53c2\u6570\u540e\uff0c\u8c03\u8d77\u652f\u4ed8\uff0c\u5177\u4f53\u53ef\u53c2\u8003\uff1a https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=7_7 index=5 \u652f\u4ed8\u6210\u529f\u540e\uff0c\u63a5\u6536\u5f02\u6b65\u901a\u77e5 \u7279\u6b8a\u8bf4\u660e: \u5f02\u6b65\u901a\u77e5\u6709\u53ef\u80fd\u7531\u4e8e\u5916\u90e8\u56e0\u7d20\u4f1a\u9020\u6210\u5ef6\u8fdf\uff0c\u6240\u4ee5\u5bf9\u5b9e\u65f6\u8981\u6c42\u9ad8\u7684\u573a\u666f\u8bf7\u4f7f\u7528\u8ba2\u5355\u67e5\u8be2\u63a5\u53e3\uff01\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5f02\u6b65\u901a\u77e5\u4ec5\u652f\u630180\u548c443\u7aef\u53e3\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u6307\u5b9a\u7aef\u53e3\u3002","title":"\u5524\u8d77\u5c0f\u7a0b\u5e8f\u652f\u4ed8"}]}